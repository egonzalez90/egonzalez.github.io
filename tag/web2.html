<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>OpenStack Stuff | articles tagged "web" | Page 2</title>
    <link rel="shortcut icon" type="image/png" href="https://egonzalez90.github.io/favicon.png">
    <link rel="shortcut icon" type="image/x-icon" href="https://egonzalez90.github.io/favicon.ico">
    <link href="https://egonzalez90.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="OpenStack Stuff Full Atom Feed" />
    <link rel="stylesheet" href="https://egonzalez90.github.io/theme/css/screen.css" type="text/css" />
    <link rel="stylesheet" href="https://egonzalez90.github.io/theme/css/pygments.css" type="text/css" />
    <link rel="stylesheet" href="https://egonzalez90.github.io/theme/css/print.css" type="text/css" media="print" />
    <meta name="generator" content="Pelican" />
    <meta name="description" content="" />
    <meta name="author" content="Eduardo Gonzalez" />
</head>
<body>
    <header>
        <nav>
            <ul>
                <li class="ephemeral selected"><a href="https://egonzalez90.github.io/tag/web2.html">web</a></li>
                <li><a href="https://egonzalez90.github.io/">Home</a></li>
                <li><a href="https://docs.openstack.org">OpenStack</a></li>
                <li><a href="https://www.linkedin.com/in/eduardogonzalezgutierrez">Linkedin</a></li>
                <li><a href="https://github.com/egonzalez90">Github</a></li>
                <li><a href="https://egonzalez90.github.io/archives">Archives</a></li>
            </ul>
        </nav>
        <div class="header_box">
            <h1><a href="https://egonzalez90.github.io/">OpenStack Stuff</a></h1>
        </div>
    </header>
    <div id="wrapper">
        <div id="content">            <h4 class="date">Sep 29, 2014</h4>

            <article class="post">
                <h2 class="title">
                    <a href="https://egonzalez90.github.io/s3cmd-administracion-bucket-aws.html" rel="bookmark" title="Permanent Link to &quot;s3cmd, administración bucket AWS&quot;">s3cmd, administración bucket AWS</a>
                </h2>

                
                

                <p>Buenos días, en esta entrada mostrare el proceso para instalar s3cmd con
el que podremos administrar nuestros contenedores de AWS.<!--more--></p>
<p>Para ello primero deberemos localizar el repositorio para la versión de
nuestro RHEL, lo podéis hacer en este enlace:
<a href="http://s3tools.org/repositories">http://s3tools.org/repositories</a></p>
<p>En mi caso uso la versión 6.5 de RHEL, por lo que usare el repositorio
de la versión 6, descargaremos el archivo .repo acorde con nuestra
versión, cambiando el enlace por el proporcionado por la pagina anterior
si fuera otra versión fuera de la 6</p>
<blockquote>
<p>wget http://s3tools.org/repo/RHEL_6/s3tools.repo</p>
</blockquote>
<p>A continuación moveremos el archivo .repo a la localización de los
repositorios en el SO, este paso se puede saltar si el comando wget se
lanza desde el mismo directorio /etc/yum.repos.d/</p>
<blockquote>
<p>mv s3tools.repo /etc/yum.repos.d/</p>
</blockquote>
<p>Ahora actualizaremos la lista de repositorios para que el SO la
reconozca</p>
<blockquote>
<p>sudo yum repolist</p>
</blockquote>
<p>Después instalaremos s3cmd mediante el siguiente comando</p>
<blockquote>
<p>sudo yum install s3cmd</p>
</blockquote>
<p>Para acabar, procederemos a configurar s3cmd para que pueda acceder a
nuestros contenedores en AWS</p>
<blockquote>
<p>s3cmd --configure</p>
<div class="highlight"><pre><span></span><span class="nv">Enter</span> <span class="s s-Atom">new</span> <span class="s s-Atom">values</span> <span class="s s-Atom">or</span> <span class="s s-Atom">accept</span> <span class="s s-Atom">defaults</span> <span class="s s-Atom">in</span> <span class="s s-Atom">brackets</span> <span class="s s-Atom">with</span> <span class="nv">Enter</span><span class="p">.</span>
<span class="nv">Refer</span> <span class="s s-Atom">to</span> <span class="s s-Atom">user</span> <span class="s s-Atom">manual</span> <span class="s s-Atom">for</span> <span class="s s-Atom">detailed</span> <span class="s s-Atom">description</span> <span class="s s-Atom">of</span> <span class="s s-Atom">all</span> <span class="s s-Atom">options</span><span class="p">.</span>

<span class="nv">Access</span> <span class="s s-Atom">key</span> <span class="s s-Atom">and</span> <span class="nv">Secret</span> <span class="s s-Atom">key</span> <span class="s s-Atom">are</span> <span class="s s-Atom">your</span> <span class="s s-Atom">identifiers</span> <span class="s s-Atom">for</span> <span class="nv">Amazon</span> <span class="nv">S3</span>
<span class="nv">Access</span> <span class="nv">Key</span><span class="s s-Atom">:</span> <span class="s s-Atom">xxxxxxxxxxxxxxxxxxxxxx</span>
<span class="nv">Secret</span> <span class="nv">Key</span><span class="s s-Atom">:</span> <span class="s s-Atom">xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</span>

<span class="nv">Encryption</span> <span class="s s-Atom">password</span> <span class="o">is</span> <span class="s s-Atom">used</span> <span class="s s-Atom">to</span> <span class="s s-Atom">protect</span> <span class="s s-Atom">your</span> <span class="s s-Atom">files</span> <span class="s s-Atom">from</span> <span class="s s-Atom">reading</span>
<span class="s s-Atom">by</span> <span class="s s-Atom">unauthorized</span> <span class="s s-Atom">persons</span> <span class="s s-Atom">while</span> <span class="s s-Atom">in</span> <span class="s s-Atom">transfer</span> <span class="s s-Atom">to</span> <span class="nv">S3</span>
<span class="nv">Encryption</span> <span class="nn">password</span><span class="p">:</span> <span class="s s-Atom">xxxxxxxxxx</span>
<span class="nv">Path</span> <span class="s s-Atom">to</span> <span class="nv">GPG</span> <span class="s s-Atom">program</span> <span class="p">[</span><span class="o">/</span><span class="s s-Atom">usr</span><span class="o">/</span><span class="s s-Atom">bin</span><span class="o">/</span><span class="s s-Atom">gpg</span><span class="p">]</span><span class="s s-Atom">:</span>

<span class="nv">When</span> <span class="s s-Atom">using</span> <span class="s s-Atom">secure</span> <span class="nv">HTTPS</span> <span class="s s-Atom">protocol</span> <span class="s s-Atom">all</span> <span class="s s-Atom">communication</span> <span class="s s-Atom">with</span> <span class="nv">Amazon</span> <span class="nv">S3</span>
<span class="s s-Atom">servers</span> <span class="o">is</span> <span class="s s-Atom">protected</span> <span class="s s-Atom">from</span> <span class="mi">3</span><span class="s s-Atom">rd</span> <span class="s s-Atom">party</span> <span class="s s-Atom">eavesdropping</span><span class="p">.</span> <span class="nv">This</span> <span class="s s-Atom">method</span> <span class="o">is</span>
<span class="s s-Atom">slower</span> <span class="s s-Atom">than</span> <span class="s s-Atom">plain</span> <span class="nv">HTTP</span> <span class="s s-Atom">and</span> <span class="s s-Atom">can&#39;t be used if you&#39;re</span> <span class="s s-Atom">behind</span> <span class="s s-Atom">a</span> <span class="s s-Atom">proxy</span>
<span class="nv">Use</span> <span class="nv">HTTPS</span> <span class="s s-Atom">protocol</span> <span class="p">[</span><span class="nv">No</span><span class="p">]</span><span class="s s-Atom">:</span> <span class="nv">Yes</span>

<span class="nv">New</span> <span class="nn">settings</span><span class="p">:</span>
  <span class="nv">Access</span> <span class="nv">Key</span><span class="s s-Atom">:</span> <span class="s s-Atom">xxxxxxxxxxxxxxxxxxxxxx</span>
  <span class="nv">Secret</span> <span class="nv">Key</span><span class="s s-Atom">:</span> <span class="s s-Atom">xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</span>
  <span class="nv">Encryption</span> <span class="nn">password</span><span class="p">:</span> <span class="s s-Atom">xxxxxxxxxx</span>
  <span class="nv">Path</span> <span class="s s-Atom">to</span> <span class="nv">GPG</span> <span class="nn">program</span><span class="p">:</span> <span class="o">/</span><span class="s s-Atom">usr</span><span class="o">/</span><span class="s s-Atom">bin</span><span class="o">/</span><span class="s s-Atom">gpg</span>
  <span class="nv">Use</span> <span class="nv">HTTPS</span> <span class="nn">protocol</span><span class="p">:</span> <span class="nv">True</span>
  <span class="nv">HTTP</span> <span class="nv">Proxy</span> <span class="s s-Atom">server</span> <span class="nn">name</span><span class="p">:</span>
  <span class="nv">HTTP</span> <span class="nv">Proxy</span> <span class="s s-Atom">server</span> <span class="nn">port</span><span class="p">:</span> <span class="mi">0</span>

<span class="nv">Test</span> <span class="s s-Atom">access</span> <span class="s s-Atom">with</span> <span class="s s-Atom">supplied</span> <span class="s s-Atom">credentials?</span> <span class="p">[</span><span class="nv">Y</span><span class="o">/</span><span class="s s-Atom">n</span><span class="p">]</span> <span class="nv">Y</span>
<span class="nv">Please</span> <span class="s s-Atom">wait</span><span class="p">,</span> <span class="s s-Atom">attempting</span> <span class="s s-Atom">to</span> <span class="s s-Atom">list</span> <span class="s s-Atom">all</span> <span class="s s-Atom">buckets</span><span class="p">...</span>
<span class="nv">Success</span><span class="p">.</span> <span class="nv">Your</span> <span class="s s-Atom">access</span> <span class="s s-Atom">key</span> <span class="s s-Atom">and</span> <span class="s s-Atom">secret</span> <span class="s s-Atom">key</span> <span class="s s-Atom">worked</span> <span class="nf">fine</span> <span class="o">:-</span><span class="p">)</span>

<span class="nv">Now</span> <span class="s s-Atom">verifying</span> <span class="s s-Atom">that</span> <span class="s s-Atom">encryption</span> <span class="s s-Atom">works</span><span class="p">...</span>
<span class="nv">Success</span><span class="p">.</span> <span class="nv">Encryption</span> <span class="s s-Atom">and</span> <span class="s s-Atom">decryption</span> <span class="s s-Atom">worked</span> <span class="nf">fine</span> <span class="o">:-</span><span class="p">)</span>

<span class="nv">Save</span> <span class="s s-Atom">settings?</span> <span class="p">[</span><span class="s s-Atom">y</span><span class="o">/</span><span class="nv">N</span><span class="p">]</span> <span class="s s-Atom">y</span>
<span class="nv">Configuration</span> <span class="s s-Atom">saved</span> <span class="s s-Atom">to</span> <span class="s s-Atom">&#39;/root/.s3cfg&#39;</span>
</pre></div>


</blockquote>
<p>Access Key la puedes encontrar en: Security Credentials/ Users/ Access
Credentials</p>
<p><a href="http://vps38574.vps.ovh.ca/wp-content/uploads/2014/09/access.png"><img alt="access" src="http://vps38574.vps.ovh.ca/wp-content/uploads/2014/09/access.png"></a></p>
<p>Secret Key solo se puede descargar una única vez, al crear las claves de
acceso, si fuera necesario, deberías de crear unas nuevas para poder
obtener Secret Key para esa clave.</p>
<p>Seguramente que te de un error si lanzas el comando ahora, para que no
te de el error Access Denied, tienes que agregar una política de usuario
con permisos</p>
<p><a href="http://vps38574.vps.ovh.ca/wp-content/uploads/2014/09/userpolicy.png"><img alt="userpolicy" src="http://vps38574.vps.ovh.ca/wp-content/uploads/2014/09/userpolicy.png"></a></p>
<p>Por ultimo probaremos que tenemos acceso a los bucket</p>
<blockquote>
<p>s3cmd ls</p>
</blockquote>
<p>Esto nos debería de mostrar los contenedores a los que tenemos permisos
dentro de AWS</p>
<p>Ahora solo te queda investigar las diferentes posibilidades que te da
s3cmd</p>
<p>Un saludo</p>
                <div class="clear"></div>

                <div class="info">
                    <a href="https://egonzalez90.github.io/s3cmd-administracion-bucket-aws.html">posted at 18:42</a>
                    &nbsp;&middot;&nbsp;<a href="https://egonzalez90.github.io/category/linux-openstack.html" rel="tag">Linux, OpenStack</a>
                    &nbsp;&middot;
                    &nbsp;<a href="https://egonzalez90.github.io/tag/-configure.html" class="tags">--configure</a>
                    &nbsp;<a href="https://egonzalez90.github.io/tag/access-denied.html" class="tags">access denied</a>
                    &nbsp;<a href="https://egonzalez90.github.io/tag/access-key.html" class="tags">access key</a>
                    &nbsp;<a href="https://egonzalez90.github.io/tag/amazon.html" class="tags">amazon</a>
                    &nbsp;<a href="https://egonzalez90.github.io/tag/aws.html" class="tags">AWS</a>
                    &nbsp;<a href="https://egonzalez90.github.io/tag/cloud.html" class="tags">cloud</a>
                    &nbsp;<a href="https://egonzalez90.github.io/tag/configurar.html" class="tags">configurar</a>
                    &nbsp;<a href="https://egonzalez90.github.io/tag/iam.html" class="tags">IAM</a>
                    &nbsp;<a href="https://egonzalez90.github.io/tag/instalar.html" class="tags">instalar</a>
                    &nbsp;<a href="https://egonzalez90.github.io/tag/permisos.html" class="tags">permisos</a>
                    &nbsp;<a href="https://egonzalez90.github.io/tag/policy.html" class="tags">policy</a>
                    &nbsp;<a href="https://egonzalez90.github.io/tag/s3cmd.html" class="tags">s3cmd</a>
                    &nbsp;<a href="https://egonzalez90.github.io/tag/s3tools.html" class="tags">s3tools</a>
                    &nbsp;<a href="https://egonzalez90.github.io/tag/secret-key.html" class="tags">secret key</a>
                    &nbsp;<a href="https://egonzalez90.github.io/tag/services.html" class="tags">services</a>
                    &nbsp;<a href="https://egonzalez90.github.io/tag/usuario.html" class="tags">usuario</a>
                    &nbsp;<a href="https://egonzalez90.github.io/tag/web.html" class="tags selected">web</a>
                </div>
		<a href="https://egonzalez90.github.io/s3cmd-administracion-bucket-aws.html#disqus_thread">Click to read and post comments</a>
            </article>            <h4 class="date">Sep 22, 2014</h4>

            <article class="post">
                <h2 class="title">
                    <a href="https://egonzalez90.github.io/crear-plantilla-ami-en-aws.html" rel="bookmark" title="Permanent Link to &quot;Crear Plantilla AMI en AWS&quot;">Crear Plantilla AMI en AWS</a>
                </h2>

                
                

                <p>El primer paso es estar logeado en AWS, y en la pestaña Instances de
EC2.<!--more--></p>
<p>Una vez aquí pulsaremos con el botón derecho sobre la instancia que
queremos convertir en plantilla AMI.</p>
<p>Aquí pulsaremos sobre Create
Image<a href="http://vps38574.vps.ovh.ca/wp-content/uploads/2014/09/Captura.png"><img alt="Captura" src="http://vps38574.vps.ovh.ca/wp-content/uploads/2014/09/Captura.png"><br>
</a></p>
<p>Lo siguiente sera ponerle un nombre a la plantilla y una descripcion,
para finalizar le daremos a Create Image</p>
<p><a href="http://vps38574.vps.ovh.ca/wp-content/uploads/2014/09/Captura2.png"><img alt="Captura2" src="http://vps38574.vps.ovh.ca/wp-content/uploads/2014/09/Captura2.png"></a></p>
<p>A continuación nos mostrara un mensage que indica que esta en proceso de
creacion, pulsaremos sobre View Pending Image **** para ver el
estado de la peticion</p>
<p><a href="http://vps38574.vps.ovh.ca/wp-content/uploads/2014/09/Captura3.png"><img alt="Captura3" src="http://vps38574.vps.ovh.ca/wp-content/uploads/2014/09/Captura3.png"> </a>En
esta ventana veremos el estado de la peticion, una vez acabada la
creacion de la plantilla aparecera en verde Available, estos sencillos
pasos nos permitiran tener imagenes personalizadas para ejecutar tantas
instancias como queramos sobre esa plantilla</p>
<p><a href="http://vps38574.vps.ovh.ca/wp-content/uploads/2014/09/Captura4.png"><img alt="Captura4" src="http://vps38574.vps.ovh.ca/wp-content/uploads/2014/09/Captura4.png"></a> Para
ejecutar la imagen como una instancia, solo tienes que pulsar sobre
Launch y crear la instancia como cualquier otra.</p>
<p>Si quieres saber como se crea una instancia puedes hacerlo siguiendo
esta entrada del blog: <a href="http://egonzalez.org/?p=635">http://egonzalez.org/?p=635</a></p>
                <div class="clear"></div>

                <div class="info">
                    <a href="https://egonzalez90.github.io/crear-plantilla-ami-en-aws.html">posted at 09:14</a>
                    &nbsp;&middot;&nbsp;<a href="https://egonzalez90.github.io/category/openstack.html" rel="tag">OpenStack</a>
                    &nbsp;&middot;
                    &nbsp;<a href="https://egonzalez90.github.io/tag/amazon.html" class="tags">amazon</a>
                    &nbsp;<a href="https://egonzalez90.github.io/tag/ami.html" class="tags">AMI</a>
                    &nbsp;<a href="https://egonzalez90.github.io/tag/aws.html" class="tags">AWS</a>
                    &nbsp;<a href="https://egonzalez90.github.io/tag/cloud.html" class="tags">cloud</a>
                    &nbsp;<a href="https://egonzalez90.github.io/tag/computing.html" class="tags">computing</a>
                    &nbsp;<a href="https://egonzalez90.github.io/tag/crear.html" class="tags">crear</a>
                    &nbsp;<a href="https://egonzalez90.github.io/tag/ejecutar.html" class="tags">ejecutar</a>
                    &nbsp;<a href="https://egonzalez90.github.io/tag/hybrid.html" class="tags">hybrid</a>
                    &nbsp;<a href="https://egonzalez90.github.io/tag/imagen.html" class="tags">imagen</a>
                    &nbsp;<a href="https://egonzalez90.github.io/tag/instancia.html" class="tags">instancia</a>
                    &nbsp;<a href="https://egonzalez90.github.io/tag/launch.html" class="tags">launch</a>
                    &nbsp;<a href="https://egonzalez90.github.io/tag/plantilla.html" class="tags">plantilla</a>
                    &nbsp;<a href="https://egonzalez90.github.io/tag/private.html" class="tags">private</a>
                    &nbsp;<a href="https://egonzalez90.github.io/tag/public.html" class="tags">public</a>
                    &nbsp;<a href="https://egonzalez90.github.io/tag/services.html" class="tags">services</a>
                    &nbsp;<a href="https://egonzalez90.github.io/tag/web.html" class="tags selected">web</a>
                </div>
		<a href="https://egonzalez90.github.io/crear-plantilla-ami-en-aws.html#disqus_thread">Click to read and post comments</a>
            </article>            <h4 class="date">Sep 19, 2014</h4>

            <article class="post">
                <h2 class="title">
                    <a href="https://egonzalez90.github.io/crear-swap-rhel-aws.html" rel="bookmark" title="Permanent Link to &quot;Crear Swap AWS en RHEL&quot;">Crear Swap AWS en RHEL</a>
                </h2>

                
                

                <p>Cuando creas una instancia, esta se hace sin swap, el cual es necesario
para el uso de determinadas aplicaciones.<!--more--></p>
<p>Para ello deberemos tener espacio en disco, si no tuvieras suficiente
puedes seguir esta entrada pare ver como se
hace: <a href="http://egonzalez.org/?p=662" title="Montar volumen AWS en RHEL">http://egonzalez.org/?p=635</a></p>
<p>A continuación iremos a la consola y ejecutaremos los siguientes
comandos:</p>
<blockquote>
<p>sudo /bin/dd if=/dev/zero of=/var/swap.1 bs=1M count=1024</p>
<p>sudo /sbin/mkswap /var/swap.1</p>
<p>sudo /sbin/swapon /var/swap.1</p>
</blockquote>
<p>Con ello crearemos el archivo swap y lo montaremos.<br>
Con este comando se crea de un tamaño de 1024 MB, si se quisiera mas,
abría que cambiar el valor count a el deseado.</p>
<p>Por ultimo abría que añadir esta linea al archivo /etc/fstab , esto
permitirá que se monte durante el arranque automáticamente.</p>
<blockquote>
<p>/var/swap.1 swap swap defaults 0 0</p>
</blockquote>
<p>Espero ser de ayuda, un saludo</p>
                <div class="clear"></div>

                <div class="info">
                    <a href="https://egonzalez90.github.io/crear-swap-rhel-aws.html">posted at 16:28</a>
                    &nbsp;&middot;&nbsp;<a href="https://egonzalez90.github.io/category/linux-openstack.html" rel="tag">Linux, OpenStack</a>
                    &nbsp;&middot;
                    &nbsp;<a href="https://egonzalez90.github.io/tag/etcfstab.html" class="tags">/etc/fstab</a>
                    &nbsp;<a href="https://egonzalez90.github.io/tag/amazon.html" class="tags">amazon</a>
                    &nbsp;<a href="https://egonzalez90.github.io/tag/aws.html" class="tags">AWS</a>
                    &nbsp;<a href="https://egonzalez90.github.io/tag/cloud.html" class="tags">cloud</a>
                    &nbsp;<a href="https://egonzalez90.github.io/tag/mkswap.html" class="tags">mkswap</a>
                    &nbsp;<a href="https://egonzalez90.github.io/tag/red-hat.html" class="tags">red hat</a>
                    &nbsp;<a href="https://egonzalez90.github.io/tag/rhel.html" class="tags">rhel</a>
                    &nbsp;<a href="https://egonzalez90.github.io/tag/services.html" class="tags">services</a>
                    &nbsp;<a href="https://egonzalez90.github.io/tag/swap.html" class="tags">swap</a>
                    &nbsp;<a href="https://egonzalez90.github.io/tag/swapon.html" class="tags">swapon</a>
                    &nbsp;<a href="https://egonzalez90.github.io/tag/web.html" class="tags selected">web</a>
                </div>
		<a href="https://egonzalez90.github.io/crear-swap-rhel-aws.html#disqus_thread">Click to read and post comments</a>
            </article>

                <div class="clear"></div>
                <div class="pages">

                    <a href="https://egonzalez90.github.io/" class="prev_page">&larr;&nbsp;Previous</a>
                    <a href="https://egonzalez90.github.io/page/3" class="next_page">Next&nbsp;&rarr;</a>
                    <span>Page 2 of 3</span>
                </div>

            <div class="clear"></div>
            <footer>
                <p>
                <a href="https://github.com/jody-frankowski/blue-penguin">Blue Penguin</a> Theme
                &middot;
                Powered by <a href="http://getpelican.com">Pelican</a>
                &middot;
                <a href="https://egonzalez90.github.io/feeds/all.atom.xml" rel="alternate">Atom Feed</a>
            </footer>
        </div>
        <div class="clear"></div>
    </div>
</body>
</html>