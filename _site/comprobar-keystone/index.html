<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  
  
  <title>Comprobar Keystone</title>
  <meta name="description" content="En anteriores post hemos configurado Keystone(Identity Service), ahora deberemos de comprobar que este correctamente configurado. Para ello he creado esta entrada en el blog.">
  

  <link rel="stylesheet" href="/assets/main.css">
  <link rel="canonical" href="http://217.182.136.201:8080/comprobar-keystone/">
  
  
  <link rel="alternate" type="application/rss+xml" title="OpenStack things" href="http://217.182.136.201:8080/feed.xml">

  

  
  <meta name="twitter:card" content="summary">
  <meta name="twitter:site" content="egongu90">
  <meta name="twitter:title" content="Comprobar Keystone">
  <meta name="twitter:description" content="En anteriores post hemos configurado Keystone(Identity Service), ahora deberemos de comprobar que este correctamente configurado. Para ello he creado esta entrada en el blog.">
  
    <meta name="twitter:creator" content="egongu90">
  
  

  <script type="text/javascript">
  WebFontConfig = {
    google: { families: [ 'Bitter:400,700,400italic:latin' ] }
  };
  (function() {
    var wf = document.createElement('script');
    wf.src = ('https:' == document.location.protocol ? 'https' : 'http') +
      '://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
    wf.type = 'text/javascript';
    wf.async = 'true';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(wf, s);
  })();
</script>

  

</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/">OpenStack things</a>

    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/">About</a>
      
        
        <a class="page-link" href="/archives/">Archives</a>
      
        
        <a class="page-link" href="https://github.com/yous/whiteglass">GitHub</a>
      
    </nav>

  </div>

</header>


    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    
      <h1 class="post-title" itemprop="name headline">Comprobar Keystone</h1>
    
    <p class="post-meta"><time datetime="2014-12-29T19:14:32+01:00" itemprop="datePublished">Dec 29, 2014</time> • <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Editor</span></span> • 
  
  
    
  
    
  
    
  
    
  
    
      <a href="/categories/openstack/">OpenStack</a>
    
  
    
  
    
  

</p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p>En anteriores post hemos configurado Keystone(Identity Service), ahora deberemos de comprobar que este correctamente configurado. Para ello he creado esta entrada en el blog.</p>

<p>Lo primero que haremos será quitar las variables de entorno con las que nos autenticábamos en el servicio, con ello nos tendremos que autenticar con usuario y contraseña.</p>
<blockquote>unset OS_SERVICE_TOKEN OS_SERVICE_ENDPOINT</blockquote>
<p>A continuación crearemos el archivo admin-openrc.sh, en el que configuraremos los datos de nuestro usuario, en este caso el usuario admin previamente creado. Una vez creado el fichero anterior mediante un editor de texto, vi, gedit, nano, etc. Incluiremos el siguiente contenido:</p>
<blockquote>export OS_USERNAME=admin

export OS_PASSWORD=&lt;adminPASSWORD&gt;

export OS_TENANT_NAME=admin

export OS_AUTH_URL=http://controller:35357/v2.0</blockquote>
<p>A continuación, estableceremos las variables de entorno añadidas en el archivo admin-openrc.sh</p>
<blockquote>source admin-openrc.sh</blockquote>
<p>Comprobaremos que podemos listar los usuarios y ya de paso comprobamos que estan bien definidas las variables y por lo tanto estamos utilizando el usuario admin en esta operación</p>
<blockquote>keystone user-list</blockquote>
<p>Listamos los roles del usuario admin</p>
<blockquote>keystone user-role-list --user=admin --tenant=admin</blockquote>
<p>Estos dos últimos comandos nos mostraran una información, en la que comprobaremos que el ID del usuario admin esta en el rol de admin y <em>member</em></p>

<p> </p>

<p>Si todo lo anterior salió correctamente quiere decir que tenemos la configuración básica de Identity Service correctamente realizada y podremos seguir configurando mas servicios en nuestro entorno</p>

  </div>

</article>

      </div>
    </main>

    <footer class="site-footer">

  <div class="wrapper">

    <p>
      

&copy;  - Powered by <a href="https://jekyllrb.com">Jekyll</a> &amp; <a href="https://github.com/yous/whiteglass">whiteglass</a> - Subscribe via <a href="http://217.182.136.201:8080/feed.xml">RSS</a>

    </p>

  </div>

</footer>


  </body>

</html>
