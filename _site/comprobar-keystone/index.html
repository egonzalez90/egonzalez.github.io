<!DOCTYPE html>
<html lang="en-US">

  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width,maximum-scale=2">
    <meta name="description" content="OpenStack things : OpenStack, Docker, Ansible, Ceph, Linux">

    <link rel="stylesheet" type="text/css" media="screen" href="/assets/css/style.css?v=9a6333a51cf04996f04338046deefb14dd69cda4">

<!-- Begin Jekyll SEO tag v2.3.0 -->
<title>Comprobar Keystone | OpenStack things</title>
<meta property="og:title" content="Comprobar Keystone">
<meta name="author" content="Editor">
<meta property="og:locale" content="en_US">
<meta name="description" content="En anteriores post hemos configurado Keystone(Identity Service), ahora deberemos de comprobar que este correctamente configurado. Para ello he creado esta entrada en el blog.">
<meta property="og:description" content="En anteriores post hemos configurado Keystone(Identity Service), ahora deberemos de comprobar que este correctamente configurado. Para ello he creado esta entrada en el blog.">
<link rel="canonical" href="http://217.182.136.201:5000/comprobar-keystone/">
<meta property="og:url" content="http://217.182.136.201:5000/comprobar-keystone/">
<meta property="og:site_name" content="OpenStack things">
<meta property="og:image" content="http://217.182.136.201:5000/wp-content/uploads/2014/09/openstack-logo_0.png">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2014-12-29T18:14:32+00:00">
<script type="application/ld+json">
{"name":null,"description":"En anteriores post hemos configurado Keystone(Identity Service), ahora deberemos de comprobar que este correctamente configurado. Para ello he creado esta entrada en el blog.","author":{"@type":"Person","name":"Editor"},"@type":"BlogPosting","url":"http://217.182.136.201:5000/comprobar-keystone/","publisher":null,"image":"http://217.182.136.201:5000/wp-content/uploads/2014/09/openstack-logo_0.png","headline":"Comprobar Keystone","dateModified":"2014-12-29T18:14:32+00:00","datePublished":"2014-12-29T18:14:32+00:00","sameAs":null,"mainEntityOfPage":{"@type":"WebPage","@id":"http://217.182.136.201:5000/comprobar-keystone/"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="http://github.com/egonzalez90/egonzalez90.github.io">View on GitHub</a>

          <h1 id="project_title">OpenStack things</h1>
          <h2 id="project_tagline">OpenStack, Docker, Ansible, Ceph, Linux</h2>

          
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <p>En anteriores post hemos configurado Keystone(Identity Service), ahora deberemos de comprobar que este correctamente configurado. Para ello he creado esta entrada en el blog.</p>

<p>Lo primero que haremos será quitar las variables de entorno con las que nos autenticábamos en el servicio, con ello nos tendremos que autenticar con usuario y contraseña.</p>
<blockquote>unset OS_SERVICE_TOKEN OS_SERVICE_ENDPOINT</blockquote>
<p>A continuación crearemos el archivo admin-openrc.sh, en el que configuraremos los datos de nuestro usuario, en este caso el usuario admin previamente creado. Una vez creado el fichero anterior mediante un editor de texto, vi, gedit, nano, etc. Incluiremos el siguiente contenido:</p>
<blockquote>export OS_USERNAME=admin

export OS_PASSWORD=&lt;adminPASSWORD&gt;

export OS_TENANT_NAME=admin

export OS_AUTH_URL=http://controller:35357/v2.0</blockquote>
<p>A continuación, estableceremos las variables de entorno añadidas en el archivo admin-openrc.sh</p>
<blockquote>source admin-openrc.sh</blockquote>
<p>Comprobaremos que podemos listar los usuarios y ya de paso comprobamos que estan bien definidas las variables y por lo tanto estamos utilizando el usuario admin en esta operación</p>
<blockquote>keystone user-list</blockquote>
<p>Listamos los roles del usuario admin</p>
<blockquote>keystone user-role-list --user=admin --tenant=admin</blockquote>
<p>Estos dos últimos comandos nos mostraran una información, en la que comprobaremos que el ID del usuario admin esta en el rol de admin y <em>member</em></p>

<p> </p>

<p>Si todo lo anterior salió correctamente quiere decir que tenemos la configuración básica de Identity Service correctamente realizada y podremos seguir configurando mas servicios en nuestro entorno</p>

      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        
        <p class="copyright">OpenStack things maintained by <a href="http://github.com/egonzalez90">egonzalez90</a></p>
        
        <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    
  </body>

<div id="disqus_thread"></div>
<script>
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */
    /*
    var disqus_config = function () {
        this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    (function() {  // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');
        
        s.src = 'https://egonzalez-1.disqus.com/embed.js';
        
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
</html>
