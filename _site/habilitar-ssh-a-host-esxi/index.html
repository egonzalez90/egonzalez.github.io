<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  
  
  <title>Habilitar SSH a host ESXi</title>
  <meta name="description" content=" ">
  

  <link rel="stylesheet" href="/assets/main.css">
  <link rel="canonical" href="http://217.182.136.201:8080/habilitar-ssh-a-host-esxi/">
  
  
  <link rel="alternate" type="application/rss+xml" title="OpenStack things" href="http://217.182.136.201:8080/feed.xml">

  

  
  <meta name="twitter:card" content="summary">
  <meta name="twitter:site" content="egongu90">
  <meta name="twitter:title" content="Habilitar SSH a host ESXi">
  <meta name="twitter:description" content=" ">
  
    <meta name="twitter:creator" content="egongu90">
  
  

  <script type="text/javascript">
  WebFontConfig = {
    google: { families: [ 'Bitter:400,700,400italic:latin' ] }
  };
  (function() {
    var wf = document.createElement('script');
    wf.src = ('https:' == document.location.protocol ? 'https' : 'http') +
      '://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
    wf.type = 'text/javascript';
    wf.async = 'true';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(wf, s);
  })();
</script>

  

</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/">OpenStack things</a>

    <nav class="site-nav">
      
        
        <a class="page-link" href="/about/">About</a>
      
        
        <a class="page-link" href="/archives/">Archives</a>
      
        
        <a class="page-link" href="https://github.com/yous/whiteglass">GitHub</a>
      
    </nav>

  </div>

</header>


    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    
      <h1 class="post-title" itemprop="name headline">Habilitar SSH a host ESXi</h1>
    
    <p class="post-meta"><time datetime="2014-05-06T00:20:10+02:00" itemprop="datePublished">May 6, 2014</time> • <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Editor</span></span> • 
  
  
    
  
    
  
    
  
    
      <a href="/categories/virtualizacion/">Virtualizacion</a>
    
  
    
  
    
  
    
  

</p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p> </p>

<p>Cuando instalas un host ESXi, lo normal es acceder a el a través de vSphere Client, web client o por un vCenter por alguno de los modos anteriores. El problema es que hasta que no lo necesitas, no te acuerdas de que existe el SSH, y el día que lo necesites no podrás utilizarlo… Es la Ley de Murphy.<!--more--></p>

<p>Lo mas normal es acceder por SSH con un cliente como PUTTY, pues bien, una vez pones la direccion IP o el FQDN del host ESXi y das a conectar(esto tambien pasa desde una consola de Linux), te sale este mensaje de conexion rechazada. <a href="http://vps38574.vps.ovh.ca/wp-content/uploads/2014/05/Captura13.png"><img class="aligncenter size-full wp-image-514" src="http://vps38574.vps.ovh.ca/wp-content/uploads/2014/05/Captura13.png" alt="Captura" width="672" height="424" /></a></p>

<p>Esto se debe a que por defecto, los host ESXi tienen deshabilitado el acceso por SSH. Para habilitarlo, tenemos dos métodos: Desde vSphere Client al ESXi o vCenter, o desde el propio host ESXi</p>
<p style="text-align: center;"><span style="color: #ff0000;"><em><strong>vSphere Client</strong></em></span></p>
<p style="text-align: left;">Una vez hemos accedido al VSphere Client, pulsaremos sobre el host al que queramos habilitar SSH, aquí iremos a la pestaña superior de Configuration.<a href="http://vps38574.vps.ovh.ca/wp-content/uploads/2014/05/Captura14.png"><img class="aligncenter size-full wp-image-515" src="http://vps38574.vps.ovh.ca/wp-content/uploads/2014/05/Captura14.png" alt="Captura1" width="986" height="495" /></a></p>
<p style="text-align: left;">Una vez dentro de la pestaña de Configuration, buscaremos por la barra lateral izquierda Security Profile, dentro de Software, nos mostrara esta ventana en la que iremos a el botón de Properties de la parte superior derecha<a href="http://vps38574.vps.ovh.ca/wp-content/uploads/2014/05/Captura21.png"><img class="aligncenter size-full wp-image-516" src="http://vps38574.vps.ovh.ca/wp-content/uploads/2014/05/Captura21.png" alt="Captura2" width="1715" height="495" /></a></p>
<p style="text-align: left;">Esto nos abrirá esta ventana en la que buscaremos SSH, veremos que esta en estado Stoped, pulsaremos sobre el botón Options</p>
<p style="text-align: left;"><a href="http://vps38574.vps.ovh.ca/wp-content/uploads/2014/05/Captura31.png"><img class="aligncenter size-full wp-image-517" src="http://vps38574.vps.ovh.ca/wp-content/uploads/2014/05/Captura31.png" alt="Captura3" width="657" height="691" /></a></p>
<p style="text-align: left;">Aqui marcaremos la segunda opción para que inicie el servicio con el arranque y parada del host ESXi, ademas también pulsaremos sobre el botón Start para iniciar el servicio en estos momentos y finalizaremos pulsando sobre el botón OK</p>
<p style="text-align: left;"><a href="http://vps38574.vps.ovh.ca/wp-content/uploads/2014/05/Captura41.png"><img class="aligncenter size-full wp-image-518" src="http://vps38574.vps.ovh.ca/wp-content/uploads/2014/05/Captura41.png" alt="Captura4" width="504" height="337" /></a></p>
<p style="text-align: left;">Ahora nos quedaría comprobar que efectivamente tenemos acceso al host a través de SSH.</p>
<p style="text-align: left;">Una vez pongamos la dirección de nuestro host en PuTTY, en vez de mostrarnos el mensaje de error, nos pedirá que aceptemos la clave del host, esto lo haremos pulsando sobre Si<a href="http://vps38574.vps.ovh.ca/wp-content/uploads/2014/05/Captura51.png"><img class="aligncenter size-full wp-image-519" src="http://vps38574.vps.ovh.ca/wp-content/uploads/2014/05/Captura51.png" alt="Captura5" width="443" height="299" /></a></p>
<p style="text-align: left;">Se nos abrirá una consola de comandos en la que introduciremos el usuario y contraseña del host ESXi.</p>
<p style="text-align: left;">Ya estaríamos conectados por SSH<a href="http://vps38574.vps.ovh.ca/wp-content/uploads/2014/05/Captura61.png"><img class="aligncenter size-full wp-image-520" src="http://vps38574.vps.ovh.ca/wp-content/uploads/2014/05/Captura61.png" alt="Captura6" width="671" height="419" /></a></p>
<p style="text-align: center;"><em><strong><span style="color: #ff0000;">Host ESXi</span></strong></em></p>
<p style="text-align: left;">Ahora haremos lo mismo que anteriormente pero a través del propio host.</p>
<p style="text-align: left;">Para entrar en el menú de configuración, pulsaremos F2, esto nos pedirá usuario y contraseña. Una vez loggeados, veremos esta pantalla, aquí iremos a la opción Troubleshootin Options y pulsaremos Enter<a href="http://vps38574.vps.ovh.ca/wp-content/uploads/2014/05/Captura71.png"><img class="aligncenter size-full wp-image-521" src="http://vps38574.vps.ovh.ca/wp-content/uploads/2014/05/Captura71.png" alt="Captura7" width="1022" height="752" /></a></p>
<p style="text-align: left;">Nos abrira esta otra pantalla en la que observamos que tenemos SSH deshabilitado, nos ponemos sobre Enable SSH y pulsamos Enter<a href="http://vps38574.vps.ovh.ca/wp-content/uploads/2014/05/Captura81.png"><img class="aligncenter size-full wp-image-522" src="http://vps38574.vps.ovh.ca/wp-content/uploads/2014/05/Captura81.png" alt="Captura8" width="849" height="165" /></a></p>
<p style="text-align: left;">Como vemos ahora tenemos SSH habilitado y tendríamos acceso remoto desde PuTTY</p>
<p style="text-align: left;">Esta forma es mas sencilla que la anterior, pero deberemos de tener algún tipo de acceso hacia nuestro host para poder configurarlo<a href="http://vps38574.vps.ovh.ca/wp-content/uploads/2014/05/Captura91.png"><img class="aligncenter size-full wp-image-523" src="http://vps38574.vps.ovh.ca/wp-content/uploads/2014/05/Captura91.png" alt="Captura9" width="1036" height="233" /></a></p>
<p style="text-align: left;">Espero les sirva de ayuda.</p>
<p style="text-align: left;">Un saludo.</p>

  </div>

</article>

      </div>
    </main>

    <footer class="site-footer">

  <div class="wrapper">

    <p>
      

&copy;  - Powered by <a href="https://jekyllrb.com">Jekyll</a> &amp; <a href="https://github.com/yous/whiteglass">whiteglass</a> - Subscribe via <a href="http://217.182.136.201:8080/feed.xml">RSS</a>

    </p>

  </div>

</footer>


  </body>

</html>
