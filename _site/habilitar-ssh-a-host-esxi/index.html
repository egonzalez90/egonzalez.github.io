<!DOCTYPE html>
<html lang="en-US">

  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width,maximum-scale=2">
    <meta name="description" content="OpenStack things : OpenStack, Docker, Ansible, Ceph, Linux">

    <link rel="stylesheet" type="text/css" media="screen" href="/assets/css/style.css?v=9a6333a51cf04996f04338046deefb14dd69cda4">

<!-- Begin Jekyll SEO tag v2.3.0 -->
<title>Habilitar SSH a host ESXi | OpenStack things</title>
<meta property="og:title" content="Habilitar SSH a host ESXi">
<meta name="author" content="Editor">
<meta property="og:locale" content="en_US">
<meta name="description" content=" ">
<meta property="og:description" content=" ">
<link rel="canonical" href="http://217.182.136.201:5000/habilitar-ssh-a-host-esxi/">
<meta property="og:url" content="http://217.182.136.201:5000/habilitar-ssh-a-host-esxi/">
<meta property="og:site_name" content="OpenStack things">
<meta property="og:image" content="http://217.182.136.201:5000/wp-content/uploads/2014/05/Captura13-672x372.png">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2014-05-05T22:20:10+00:00">
<script type="application/ld+json">
{"name":null,"description":" ","author":{"@type":"Person","name":"Editor"},"@type":"BlogPosting","url":"http://217.182.136.201:5000/habilitar-ssh-a-host-esxi/","publisher":null,"image":"http://217.182.136.201:5000/wp-content/uploads/2014/05/Captura13-672x372.png","headline":"Habilitar SSH a host ESXi","dateModified":"2014-05-05T22:20:10+00:00","datePublished":"2014-05-05T22:20:10+00:00","sameAs":null,"mainEntityOfPage":{"@type":"WebPage","@id":"http://217.182.136.201:5000/habilitar-ssh-a-host-esxi/"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="http://github.com/egonzalez90/egonzalez90.github.io">View on GitHub</a>

          <h1 id="project_title">OpenStack things</h1>
          <h2 id="project_tagline">OpenStack, Docker, Ansible, Ceph, Linux</h2>

          
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <p> </p>

<p>Cuando instalas un host ESXi, lo normal es acceder a el a través de vSphere Client, web client o por un vCenter por alguno de los modos anteriores. El problema es que hasta que no lo necesitas, no te acuerdas de que existe el SSH, y el día que lo necesites no podrás utilizarlo… Es la Ley de Murphy.<!--more--></p>

<p>Lo mas normal es acceder por SSH con un cliente como PUTTY, pues bien, una vez pones la direccion IP o el FQDN del host ESXi y das a conectar(esto tambien pasa desde una consola de Linux), te sale este mensaje de conexion rechazada. <a href="http://vps38574.vps.ovh.ca/wp-content/uploads/2014/05/Captura13.png"><img class="aligncenter size-full wp-image-514" src="http://vps38574.vps.ovh.ca/wp-content/uploads/2014/05/Captura13.png" alt="Captura" width="672" height="424"></a></p>

<p>Esto se debe a que por defecto, los host ESXi tienen deshabilitado el acceso por SSH. Para habilitarlo, tenemos dos métodos: Desde vSphere Client al ESXi o vCenter, o desde el propio host ESXi</p>
<p style="text-align: center;"><span style="color: #ff0000;"><em><strong>vSphere Client</strong></em></span></p>
<p style="text-align: left;">Una vez hemos accedido al VSphere Client, pulsaremos sobre el host al que queramos habilitar SSH, aquí iremos a la pestaña superior de Configuration.<a href="http://vps38574.vps.ovh.ca/wp-content/uploads/2014/05/Captura14.png"><img class="aligncenter size-full wp-image-515" src="http://vps38574.vps.ovh.ca/wp-content/uploads/2014/05/Captura14.png" alt="Captura1" width="986" height="495"></a></p>
<p style="text-align: left;">Una vez dentro de la pestaña de Configuration, buscaremos por la barra lateral izquierda Security Profile, dentro de Software, nos mostrara esta ventana en la que iremos a el botón de Properties de la parte superior derecha<a href="http://vps38574.vps.ovh.ca/wp-content/uploads/2014/05/Captura21.png"><img class="aligncenter size-full wp-image-516" src="http://vps38574.vps.ovh.ca/wp-content/uploads/2014/05/Captura21.png" alt="Captura2" width="1715" height="495"></a></p>
<p style="text-align: left;">Esto nos abrirá esta ventana en la que buscaremos SSH, veremos que esta en estado Stoped, pulsaremos sobre el botón Options</p>
<p style="text-align: left;"><a href="http://vps38574.vps.ovh.ca/wp-content/uploads/2014/05/Captura31.png"><img class="aligncenter size-full wp-image-517" src="http://vps38574.vps.ovh.ca/wp-content/uploads/2014/05/Captura31.png" alt="Captura3" width="657" height="691"></a></p>
<p style="text-align: left;">Aqui marcaremos la segunda opción para que inicie el servicio con el arranque y parada del host ESXi, ademas también pulsaremos sobre el botón Start para iniciar el servicio en estos momentos y finalizaremos pulsando sobre el botón OK</p>
<p style="text-align: left;"><a href="http://vps38574.vps.ovh.ca/wp-content/uploads/2014/05/Captura41.png"><img class="aligncenter size-full wp-image-518" src="http://vps38574.vps.ovh.ca/wp-content/uploads/2014/05/Captura41.png" alt="Captura4" width="504" height="337"></a></p>
<p style="text-align: left;">Ahora nos quedaría comprobar que efectivamente tenemos acceso al host a través de SSH.</p>
<p style="text-align: left;">Una vez pongamos la dirección de nuestro host en PuTTY, en vez de mostrarnos el mensaje de error, nos pedirá que aceptemos la clave del host, esto lo haremos pulsando sobre Si<a href="http://vps38574.vps.ovh.ca/wp-content/uploads/2014/05/Captura51.png"><img class="aligncenter size-full wp-image-519" src="http://vps38574.vps.ovh.ca/wp-content/uploads/2014/05/Captura51.png" alt="Captura5" width="443" height="299"></a></p>
<p style="text-align: left;">Se nos abrirá una consola de comandos en la que introduciremos el usuario y contraseña del host ESXi.</p>
<p style="text-align: left;">Ya estaríamos conectados por SSH<a href="http://vps38574.vps.ovh.ca/wp-content/uploads/2014/05/Captura61.png"><img class="aligncenter size-full wp-image-520" src="http://vps38574.vps.ovh.ca/wp-content/uploads/2014/05/Captura61.png" alt="Captura6" width="671" height="419"></a></p>
<p style="text-align: center;"><em><strong><span style="color: #ff0000;">Host ESXi</span></strong></em></p>
<p style="text-align: left;">Ahora haremos lo mismo que anteriormente pero a través del propio host.</p>
<p style="text-align: left;">Para entrar en el menú de configuración, pulsaremos F2, esto nos pedirá usuario y contraseña. Una vez loggeados, veremos esta pantalla, aquí iremos a la opción Troubleshootin Options y pulsaremos Enter<a href="http://vps38574.vps.ovh.ca/wp-content/uploads/2014/05/Captura71.png"><img class="aligncenter size-full wp-image-521" src="http://vps38574.vps.ovh.ca/wp-content/uploads/2014/05/Captura71.png" alt="Captura7" width="1022" height="752"></a></p>
<p style="text-align: left;">Nos abrira esta otra pantalla en la que observamos que tenemos SSH deshabilitado, nos ponemos sobre Enable SSH y pulsamos Enter<a href="http://vps38574.vps.ovh.ca/wp-content/uploads/2014/05/Captura81.png"><img class="aligncenter size-full wp-image-522" src="http://vps38574.vps.ovh.ca/wp-content/uploads/2014/05/Captura81.png" alt="Captura8" width="849" height="165"></a></p>
<p style="text-align: left;">Como vemos ahora tenemos SSH habilitado y tendríamos acceso remoto desde PuTTY</p>
<p style="text-align: left;">Esta forma es mas sencilla que la anterior, pero deberemos de tener algún tipo de acceso hacia nuestro host para poder configurarlo<a href="http://vps38574.vps.ovh.ca/wp-content/uploads/2014/05/Captura91.png"><img class="aligncenter size-full wp-image-523" src="http://vps38574.vps.ovh.ca/wp-content/uploads/2014/05/Captura91.png" alt="Captura9" width="1036" height="233"></a></p>
<p style="text-align: left;">Espero les sirva de ayuda.</p>
<p style="text-align: left;">Un saludo.</p>

      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        
        <p class="copyright">OpenStack things maintained by <a href="http://github.com/egonzalez90">egonzalez90</a></p>
        
        <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    
  </body>

<div id="disqus_thread"></div>
<script>
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */
    /*
    var disqus_config = function () {
        this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    (function() {  // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');
        
        s.src = 'https://egonzalez-1.disqus.com/embed.js';
        
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
</html>
