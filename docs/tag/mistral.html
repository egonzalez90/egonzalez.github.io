<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>OpenStack Stuff - mistral</title>
        <link rel="stylesheet" href="/theme/css/main.css" />

        <!--[if IE]>
            <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">OpenStack Stuff </a></h1>
                <nav><ul>
                    <li><a href="/category/linux.html">Linux</a></li>
                    <li><a href="/category/linux-openstack.html">Linux, OpenStack</a></li>
                    <li><a href="/category/linux-openstack-various.html">Linux, OpenStack, Various</a></li>
                    <li><a href="/category/linux-various.html">Linux, Various</a></li>
                    <li><a href="/category/linux-virtualizacion.html">Linux, Virtualizacion</a></li>
                    <li><a href="/category/misc.html">misc</a></li>
                    <li><a href="/category/openstack.html">OpenStack</a></li>
                    <li><a href="/category/reflexiones.html">Reflexiones</a></li>
                    <li><a href="/category/various.html">Various</a></li>
                    <li><a href="/category/virtualizacion.html">Virtualizacion</a></li>
                </ul>
                </nav>
        </header><!-- /#banner -->

            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="/openstack-tacker-and-service-function-chaining-sfc-with-kolla.html">OpenStack Tacker and Service Function Chaining (SFC) with kolla</a></h1>
<footer class="post-info">
        <span>Mon 28 August 2017</span>
<span>| tags: <a href="/tag/ansible.html">ansible</a><a href="/tag/barbican.html">barbican</a><a href="/tag/etsi.html">etsi</a><a href="/tag/heat.html">heat</a><a href="/tag/kolla.html">kolla</a><a href="/tag/mano.html">MANO</a><a href="/tag/mistral.html">mistral</a><a href="/tag/nfv.html">NFV</a><a href="/tag/openstack.html">openstack</a><a href="/tag/pike.html">pike</a><a href="/tag/sdn.html">sdn</a><a href="/tag/service-function-chaining.html">service function chaining</a><a href="/tag/sfc.html">sfc</a><a href="/tag/tacker.html">tacker</a></span>
</footer><!-- /.post-info --><p>In this blog post I will show how to deploy OpenStack Tacker with<br>
Service Function Chaining (SFC) with OpenStack kolla project and make a
few<br>
verifications and tests to ensure fully NFV and SFC functionality.</p>
<p>Tacker and SFC is only supported in kolla during Pike release or later.</p>
<h1>Tacker, NFV and SFC concepts</h1>
<p>Tacker is an OpenStack service for NFV Orchestration with a general
purpose<br>
VNF Manager to deploy and operate Virtual Network Functions (VNFs) and<br>
Network Services on an NFV Platform. It is based on ETSI MANO
Architectural<br>
Framework. <a href="https://docs.openstack.org/tacker/latest/">Tacker
documentation</a></p>
<p>Network functions virtualization (NFV) is a network architecture concept
that uses the technologies of IT virtualization to virtualize entire
classes of network node functions into building blocks that may connect,
or chain together, to create communication services. <a href="http://www.etsi.org/technologies-clusters/technologies/nfv">ETSI NFV
specs</a></p>
<p>Service Function Chaining is a mechanism for overriding the basic
destination based forwarding that is typical of IP networks. It is
conceptually related to Policy Based Routing in physical networks but it
is typically thought of as a Software Defined Networking technology. It
is often used in conjunction with security functions although it may be
used for a broader range of features. <a href="https://tools.ietf.org/html/rfc7665">ETSI SFC
spec</a></p>
<h1>Kolla</h1>
<p>Kolla is a highly opinionated deployment tool out of the box. This
permits Kolla<br>
to be deployable with the simple configuration of three key/value
pairs.<br>
As an operatorâ€™s experience with OpenStack grows and the desire to
customize<br>
OpenStack services increases, Kolla offers full capability to override
every<br>
OpenStack service configuration option in the deployment. <a href="https://docs.openstack.org/kolla-ansible/latest/">kolla
documentation</a></p>
<h2>Requirements</h2>
<p>Kolla depends on the following requirements to be met for a fully
operational<br>
multinode OpenStack cluster with Tacker and SFC features:</p>
<ul>
<li>Core compute stack (nova, neutron, glance, etc)</li>
<li>Heat</li>
<li>Mistral and Redis</li>
<li>Barbican</li>
<li>Networking-sfc</li>
</ul>
<h2>Deployment</h2>
<p>Install base kolla and dependencies following <a href="https://docs.openstack.org/kolla-ansible/latest/quickstart.html">kolla's quickstart
guide</a></p>
<p>Configure <code>globals.yml</code> and enable services in requirements, optionally<br>
other services can be enabled altogether.<br>
Refer to kolla documentation for other option/values information.</p>
<div class="highlight"><pre><span></span>$ vi /etc/kolla/globals.yml

---
kolla_base_distro: <span class="s2">&quot;centos&quot;</span>
kolla_install_type: <span class="s2">&quot;source&quot;</span>
kolla_internal_vip_address: <span class="s2">&quot;192.168.100.10&quot;</span>
docker_registry: <span class="s2">&quot;192.168.100.1:4000&quot;</span>
docker_namespace: <span class="s2">&quot;lokolla&quot;</span>
network_interface: <span class="s2">&quot;ens9&quot;</span>
neutron_external_interface: <span class="s2">&quot;ens10&quot;</span>

<span class="c1"># Tacker configuration</span>
enable_tacker: <span class="s2">&quot;yes&quot;</span>
enable_neutron_sfc: <span class="s2">&quot;yes&quot;</span>
enable_mistral: <span class="s2">&quot;yes&quot;</span>
enable_redis: <span class="s2">&quot;yes&quot;</span>
enable_barbican: <span class="s2">&quot;yes&quot;</span>
<span class="c1">#enable_heat: &quot;yes&quot; # Ensure it is not disabled</span>
</pre></div>


<p>Configure inventory file.</p>
<div class="highlight"><pre><span></span>$ vi &lt;inventory_file&gt;

<span class="o">[</span>control<span class="o">]</span>
<span class="m">192</span>.168.100.244
<span class="m">192</span>.168.100.186
<span class="m">192</span>.168.100.159

<span class="o">[</span>network<span class="o">]</span>
<span class="m">192</span>.168.100.244
<span class="m">192</span>.168.100.186
<span class="m">192</span>.168.100.159

<span class="o">[</span>compute<span class="o">]</span>
<span class="m">192</span>.168.100.130
<span class="m">192</span>.168.100.131
<span class="m">192</span>.168.100.132

<span class="o">[</span>monitoring<span class="o">]</span>
<span class="m">192</span>.168.100.244
<span class="m">192</span>.168.100.186
<span class="m">192</span>.168.100.159

<span class="o">[</span>storage<span class="o">]</span>
<span class="m">192</span>.168.100.244
<span class="m">192</span>.168.100.186
<span class="m">192</span>.168.100.159
</pre></div>


<p>Generate passwords</p>
<div class="highlight"><pre><span></span>$ kolla-genpwd
</pre></div>


<p>Deploy OpenStack.</p>
<div class="highlight"><pre><span></span>$ kolla-ansible -i ~/multinode deploy
</pre></div>


<p>Once deployment finish, generate credential file and create base
networks<br>
and a cirros image.</p>
<div class="highlight"><pre><span></span>$ kolla-ansible -i ~/multinode post-deploy
$ <span class="nb">source</span> /etc/kolla/admin-openrc.sh
$ sh init-runonce
</pre></div>


<h1>Tacker and SFC demo</h1>
<p>In kolla-ansible repository a tacker demo is present. <a href="https://github.com/openstack/kolla-ansible/tree/master/contrib/demos/tacker">Tacker
demo</a></p>
<div class="highlight"><pre><span></span>$ <span class="nb">cd</span> &lt;kolla-ansible repo&gt;/contrib/demos/tacker/
$ ls -l
total <span class="m">16</span>
-rw-r--r-- <span class="m">1</span> root root  <span class="m">615</span> Aug <span class="m">24</span> <span class="m">20</span>:21 cleanup-tacker
-rw-r--r-- <span class="m">1</span> root root <span class="m">1937</span> Aug <span class="m">24</span> <span class="m">20</span>:21 deploy-tacker-demo
-rw-r--r-- <span class="m">1</span> root root <span class="m">2649</span> Aug <span class="m">24</span> <span class="m">20</span>:21 deploy-tacker-demo-sfc
-rw-r--r-- <span class="m">1</span> root root  <span class="m">396</span> Aug <span class="m">18</span> <span class="m">13</span>:53 README.rst
</pre></div>


<p>Before starting the demo, install tacker and networking-sfc clients.</p>
<div class="highlight"><pre><span></span>$ pip install python-tackerclient networking-sfc
</pre></div>


<h2>Demo description</h2>
<p>Tacker demo for SFC will create the following resources:</p>
<ul>
<li>Tacker default VIM</li>
<li>Tacker VNFD</li>
<li>Tacker VNF</li>
<li>kolla_sfc_client instance with a floating IP</li>
<li>kolla_sfc_server instance with a floating IP</li>
<li>Tacker VNFFGD</li>
<li>Tacker VNFFG</li>
</ul>
<p>After demo is deployed will be able to:</p>
<ul>
<li>Create sample web server in kolla_sfc_server instance.</li>
<li>Request web service from kolla_sfc_client</li>
</ul>
<p>Traffic flows:</p>
<ul>
<li>Request from kolla_sfc_client instance</li>
<li>Tacker VNF instance will receive the traffic and redirect to
    kolla_sfc_server</li>
<li>kolla_sfc_server instance receive request and reply with "W00t
    from Kolla HTTP server!"<br>
    message.</li>
</ul>
<h2>Execute tacker demo</h2>
<p>In tacker demo directory initialize execution.</p>
<div class="highlight"><pre><span></span><span class="err">$</span> <span class="n">sh</span> <span class="n">deploy</span><span class="o">-</span><span class="n">tacker</span><span class="o">-</span><span class="n">demo</span><span class="o">-</span><span class="n">sfc</span>

<span class="n">Generating</span> <span class="n">sample</span> <span class="n">config</span>
<span class="n">Registering</span> <span class="n">sample</span> <span class="n">VIM</span>
<span class="n">Created</span> <span class="n">a</span> <span class="n">new</span> <span class="nl">vim</span><span class="p">:</span>
<span class="o">+----------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">Field</span>          <span class="o">|</span> <span class="n">Value</span>                                                                                                                                                                                                                                                  <span class="o">|</span>
<span class="o">+----------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">auth_cred</span>      <span class="o">|</span> <span class="p">{</span><span class="s">&quot;username&quot;</span><span class="o">:</span> <span class="s">&quot;admin&quot;</span><span class="p">,</span> <span class="s">&quot;password&quot;</span><span class="o">:</span> <span class="s">&quot;***&quot;</span><span class="p">,</span> <span class="s">&quot;project_name&quot;</span><span class="o">:</span> <span class="s">&quot;admin&quot;</span><span class="p">,</span> <span class="s">&quot;user_domain_name&quot;</span><span class="o">:</span> <span class="s">&quot;Default&quot;</span><span class="p">,</span> <span class="s">&quot;key_type&quot;</span><span class="o">:</span> <span class="s">&quot;barbican_key&quot;</span><span class="p">,</span> <span class="s">&quot;secret_uuid&quot;</span><span class="o">:</span> <span class="s">&quot;***&quot;</span><span class="p">,</span> <span class="s">&quot;auth_url&quot;</span><span class="o">:</span> <span class="s">&quot;http://192.168.100.10:35357/v3&quot;</span><span class="p">,</span> <span class="s">&quot;project_id&quot;</span><span class="o">:</span> <span class="n">null</span><span class="p">,</span> <span class="s">&quot;project_domain_name&quot;</span><span class="o">:</span> <span class="s">&quot;Default&quot;</span><span class="p">}</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">auth_url</span>       <span class="o">|</span> <span class="nl">http</span><span class="p">:</span><span class="c1">//192.168.100.10:35357/v3                                                                                                                                                                                                                         |</span>
<span class="o">|</span> <span class="n">created_at</span>     <span class="o">|</span> <span class="mi">2017</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">28</span> <span class="mi">08</span><span class="o">:</span><span class="mi">49</span><span class="o">:</span><span class="mf">01.385013</span>                                                                                                                                                                                                                             <span class="o">|</span>
<span class="o">|</span> <span class="n">description</span>    <span class="o">|</span> <span class="n">kolla</span> <span class="n">sample</span> <span class="n">vim</span>                                                                                                                                                                                                                                       <span class="o">|</span>
<span class="o">|</span> <span class="kt">id</span>             <span class="o">|</span> <span class="mi">0</span><span class="n">cb20dff</span><span class="o">-</span><span class="n">b6d2</span><span class="o">-</span><span class="mi">44</span><span class="n">ab</span><span class="o">-</span><span class="mi">9124</span><span class="o">-</span><span class="n">cdeb018269a2</span>                                                                                                                                                                                                                   <span class="o">|</span>
<span class="o">|</span> <span class="n">is_default</span>     <span class="o">|</span> <span class="n">True</span>                                                                                                                                                                                                                                                   <span class="o">|</span>
<span class="o">|</span> <span class="n">name</span>           <span class="o">|</span> <span class="n">kolla</span><span class="o">-</span><span class="n">sample</span><span class="o">-</span><span class="n">vim</span>                                                                                                                                                                                                                                       <span class="o">|</span>
<span class="o">|</span> <span class="n">placement_attr</span> <span class="o">|</span> <span class="p">{</span><span class="s">&quot;regions&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s">&quot;RegionOne&quot;</span><span class="p">]}</span>                                                                                                                                                                                                                             <span class="o">|</span>
<span class="o">|</span> <span class="n">status</span>         <span class="o">|</span> <span class="n">PENDING</span>                                                                                                                                                                                                                                                <span class="o">|</span>
<span class="o">|</span> <span class="n">tenant_id</span>      <span class="o">|</span> <span class="mf">9f</span><span class="n">b078d4c7e54a92b3068eb5c0f83ec5</span>                                                                                                                                                                                                                       <span class="o">|</span>
<span class="o">|</span> <span class="n">type</span>           <span class="o">|</span> <span class="n">openstack</span>                                                                                                                                                                                                                                              <span class="o">|</span>
<span class="o">|</span> <span class="n">updated_at</span>     <span class="o">|</span>                                                                                                                                                                                                                                                        <span class="o">|</span>
<span class="o">|</span> <span class="n">vim_project</span>    <span class="o">|</span> <span class="p">{</span><span class="s">&quot;name&quot;</span><span class="o">:</span> <span class="s">&quot;admin&quot;</span><span class="p">,</span> <span class="s">&quot;project_domain_name&quot;</span><span class="o">:</span> <span class="s">&quot;Default&quot;</span><span class="p">}</span>                                                                                                                                                                                                    <span class="o">|</span>
<span class="o">+----------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span>
<span class="n">Creating</span> <span class="n">sample</span> <span class="n">VNFD</span>
<span class="n">Created</span> <span class="n">a</span> <span class="n">new</span> <span class="nl">vnfd</span><span class="p">:</span>
<span class="o">+-----------------+--------------------------------------+</span>
<span class="o">|</span> <span class="n">Field</span>           <span class="o">|</span> <span class="n">Value</span>                                <span class="o">|</span>
<span class="o">+-----------------+--------------------------------------+</span>
<span class="o">|</span> <span class="n">created_at</span>      <span class="o">|</span> <span class="mi">2017</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">28</span> <span class="mi">08</span><span class="o">:</span><span class="mi">49</span><span class="o">:</span><span class="mf">03.915848</span>           <span class="o">|</span>
<span class="o">|</span> <span class="n">description</span>     <span class="o">|</span> <span class="n">Demo</span> <span class="n">example</span>                         <span class="o">|</span>
<span class="o">|</span> <span class="kt">id</span>              <span class="o">|</span> <span class="n">d9633774</span><span class="o">-</span><span class="n">f9a4</span><span class="o">-</span><span class="mi">492</span><span class="n">c</span><span class="o">-</span><span class="mi">8055</span><span class="o">-</span><span class="n">ff3b2bc08581</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">name</span>            <span class="o">|</span> <span class="n">kolla</span><span class="o">-</span><span class="n">sample</span><span class="o">-</span><span class="n">vnfd</span>                    <span class="o">|</span>
<span class="o">|</span> <span class="n">service_types</span>   <span class="o">|</span> <span class="n">vnfd</span>                                 <span class="o">|</span>
<span class="o">|</span> <span class="n">template_source</span> <span class="o">|</span> <span class="n">onboarded</span>                            <span class="o">|</span>
<span class="o">|</span> <span class="n">tenant_id</span>       <span class="o">|</span> <span class="mf">9f</span><span class="n">b078d4c7e54a92b3068eb5c0f83ec5</span>     <span class="o">|</span>
<span class="o">|</span> <span class="n">updated_at</span>      <span class="o">|</span>                                      <span class="o">|</span>
<span class="o">+-----------------+--------------------------------------+</span>
<span class="n">Creating</span> <span class="n">sample</span> <span class="n">VNF</span>
<span class="n">Created</span> <span class="n">a</span> <span class="n">new</span> <span class="nl">vnf</span><span class="p">:</span>
<span class="o">+----------------+--------------------------------------+</span>
<span class="o">|</span> <span class="n">Field</span>          <span class="o">|</span> <span class="n">Value</span>                                <span class="o">|</span>
<span class="o">+----------------+--------------------------------------+</span>
<span class="o">|</span> <span class="n">created_at</span>     <span class="o">|</span> <span class="mi">2017</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">28</span> <span class="mi">08</span><span class="o">:</span><span class="mi">49</span><span class="o">:</span><span class="mf">08.921243</span>           <span class="o">|</span>
<span class="o">|</span> <span class="n">description</span>    <span class="o">|</span> <span class="n">Demo</span> <span class="n">example</span>                         <span class="o">|</span>
<span class="o">|</span> <span class="n">error_reason</span>   <span class="o">|</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="kt">id</span>             <span class="o">|</span> <span class="n">a3f73d1b</span><span class="o">-</span><span class="mi">6</span><span class="n">d6b</span><span class="o">-</span><span class="mi">44</span><span class="n">c9</span><span class="o">-</span><span class="n">a6ef</span><span class="o">-</span><span class="n">a808f12bc633</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">instance_id</span>    <span class="o">|</span> <span class="mi">57246</span><span class="n">b92</span><span class="o">-</span><span class="n">fdf2</span><span class="o">-</span><span class="mf">416f</span><span class="o">-</span><span class="mi">921</span><span class="n">a</span><span class="o">-</span><span class="mf">6760e05</span><span class="n">c74b4</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">mgmt_url</span>       <span class="o">|</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">name</span>           <span class="o">|</span> <span class="n">kolla</span><span class="o">-</span><span class="n">sample</span><span class="o">-</span><span class="n">vnf</span>                     <span class="o">|</span>
<span class="o">|</span> <span class="n">placement_attr</span> <span class="o">|</span> <span class="p">{</span><span class="s">&quot;vim_name&quot;</span><span class="o">:</span> <span class="s">&quot;kolla-sample-vim&quot;</span><span class="p">}</span>     <span class="o">|</span>
<span class="o">|</span> <span class="n">status</span>         <span class="o">|</span> <span class="n">PENDING_CREATE</span>                       <span class="o">|</span>
<span class="o">|</span> <span class="n">tenant_id</span>      <span class="o">|</span> <span class="mf">9f</span><span class="n">b078d4c7e54a92b3068eb5c0f83ec5</span>     <span class="o">|</span>
<span class="o">|</span> <span class="n">updated_at</span>     <span class="o">|</span>                                      <span class="o">|</span>
<span class="o">|</span> <span class="n">vim_id</span>         <span class="o">|</span> <span class="mi">0</span><span class="n">cb20dff</span><span class="o">-</span><span class="n">b6d2</span><span class="o">-</span><span class="mi">44</span><span class="n">ab</span><span class="o">-</span><span class="mi">9124</span><span class="o">-</span><span class="n">cdeb018269a2</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">vnfd_id</span>        <span class="o">|</span> <span class="n">d9633774</span><span class="o">-</span><span class="n">f9a4</span><span class="o">-</span><span class="mi">492</span><span class="n">c</span><span class="o">-</span><span class="mi">8055</span><span class="o">-</span><span class="n">ff3b2bc08581</span> <span class="o">|</span>
<span class="o">+----------------+--------------------------------------+</span>
<span class="n">Creating</span> <span class="n">SFC</span> <span class="n">demo</span> <span class="n">instances</span>

<span class="o">+-------------------------------------+----------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">Field</span>                               <span class="o">|</span> <span class="n">Value</span>                                                    <span class="o">|</span>
<span class="o">+-------------------------------------+----------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">OS</span><span class="o">-</span><span class="nl">DCF</span><span class="p">:</span><span class="n">diskConfig</span>                   <span class="o">|</span> <span class="n">MANUAL</span>                                                   <span class="o">|</span>
<span class="o">|</span> <span class="n">OS</span><span class="o">-</span><span class="n">EXT</span><span class="o">-</span><span class="nl">AZ</span><span class="p">:</span><span class="n">availability_zone</span>         <span class="o">|</span> <span class="n">nova</span>                                                     <span class="o">|</span>
<span class="o">|</span> <span class="n">OS</span><span class="o">-</span><span class="n">EXT</span><span class="o">-</span><span class="n">SRV</span><span class="o">-</span><span class="nl">ATTR</span><span class="p">:</span><span class="n">host</span>                <span class="o">|</span> <span class="n">controller</span>                                               <span class="o">|</span>
<span class="o">|</span> <span class="n">OS</span><span class="o">-</span><span class="n">EXT</span><span class="o">-</span><span class="n">SRV</span><span class="o">-</span><span class="nl">ATTR</span><span class="p">:</span><span class="n">hypervisor_hostname</span> <span class="o">|</span> <span class="n">controller</span>                                               <span class="o">|</span>
<span class="o">|</span> <span class="n">OS</span><span class="o">-</span><span class="n">EXT</span><span class="o">-</span><span class="n">SRV</span><span class="o">-</span><span class="nl">ATTR</span><span class="p">:</span><span class="n">instance_name</span>       <span class="o">|</span> <span class="n">instance</span><span class="o">-</span><span class="mo">0000000</span><span class="n">c</span>                                        <span class="o">|</span>
<span class="o">|</span> <span class="n">OS</span><span class="o">-</span><span class="n">EXT</span><span class="o">-</span><span class="nl">STS</span><span class="p">:</span><span class="n">power_state</span>              <span class="o">|</span> <span class="n">Running</span>                                                  <span class="o">|</span>
<span class="o">|</span> <span class="n">OS</span><span class="o">-</span><span class="n">EXT</span><span class="o">-</span><span class="nl">STS</span><span class="p">:</span><span class="n">task_state</span>               <span class="o">|</span> <span class="n">None</span>                                                     <span class="o">|</span>
<span class="o">|</span> <span class="n">OS</span><span class="o">-</span><span class="n">EXT</span><span class="o">-</span><span class="nl">STS</span><span class="p">:</span><span class="n">vm_state</span>                 <span class="o">|</span> <span class="n">active</span>                                                   <span class="o">|</span>
<span class="o">|</span> <span class="n">OS</span><span class="o">-</span><span class="n">SRV</span><span class="o">-</span><span class="nl">USG</span><span class="p">:</span><span class="n">launched_at</span>              <span class="o">|</span> <span class="mi">2017</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">28</span><span class="nl">T08</span><span class="p">:</span><span class="mi">50</span><span class="o">:</span><span class="mf">00.000000</span>                               <span class="o">|</span>
<span class="o">|</span> <span class="n">OS</span><span class="o">-</span><span class="n">SRV</span><span class="o">-</span><span class="nl">USG</span><span class="p">:</span><span class="n">terminated_at</span>            <span class="o">|</span> <span class="n">None</span>                                                     <span class="o">|</span>
<span class="o">|</span> <span class="n">accessIPv4</span>                          <span class="o">|</span>                                                          <span class="o">|</span>
<span class="o">|</span> <span class="n">accessIPv6</span>                          <span class="o">|</span>                                                          <span class="o">|</span>
<span class="o">|</span> <span class="n">addresses</span>                           <span class="o">|</span> <span class="n">demo</span><span class="o">-</span><span class="n">net</span><span class="o">=</span><span class="mf">10.0.0.3</span>                                        <span class="o">|</span>
<span class="o">|</span> <span class="n">adminPass</span>                           <span class="o">|</span> <span class="n">HGW57Pe5r8pC</span>                                             <span class="o">|</span>
<span class="o">|</span> <span class="n">config_drive</span>                        <span class="o">|</span>                                                          <span class="o">|</span>
<span class="o">|</span> <span class="n">created</span>                             <span class="o">|</span> <span class="mi">2017</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">28</span><span class="nl">T08</span><span class="p">:</span><span class="mi">49</span><span class="o">:</span><span class="mi">41</span><span class="n">Z</span>                                     <span class="o">|</span>
<span class="o">|</span> <span class="n">flavor</span>                              <span class="o">|</span> <span class="n">m1</span><span class="p">.</span><span class="n">tiny</span> <span class="p">(</span><span class="mi">1</span><span class="p">)</span>                                              <span class="o">|</span>
<span class="o">|</span> <span class="n">hostId</span>                              <span class="o">|</span> <span class="n">bec7629dd00bde2fd03ac3c939eea34fa1a2f7e4a6f8337b0e08bca4</span> <span class="o">|</span>
<span class="o">|</span> <span class="kt">id</span>                                  <span class="o">|</span> <span class="mf">90304f</span><span class="mi">68</span><span class="o">-</span><span class="mi">6</span><span class="n">b38</span><span class="o">-</span><span class="mi">4753</span><span class="o">-</span><span class="n">b0c2</span><span class="o">-</span><span class="n">a62835abebde</span>                     <span class="o">|</span>
<span class="o">|</span> <span class="n">image</span>                               <span class="o">|</span> <span class="n">cirros</span> <span class="p">(</span><span class="n">f0a80381</span><span class="o">-</span><span class="mi">2</span><span class="n">bd0</span><span class="o">-</span><span class="mi">4</span><span class="n">c53</span><span class="o">-</span><span class="mi">8300</span><span class="o">-</span><span class="mi">377</span><span class="n">a7e4bf065</span><span class="p">)</span>            <span class="o">|</span>
<span class="o">|</span> <span class="n">key_name</span>                            <span class="o">|</span> <span class="n">None</span>                                                     <span class="o">|</span>
<span class="o">|</span> <span class="n">name</span>                                <span class="o">|</span> <span class="n">kolla_sfc_server</span>                                         <span class="o">|</span>
<span class="o">|</span> <span class="n">progress</span>                            <span class="o">|</span> <span class="mi">0</span>                                                        <span class="o">|</span>
<span class="o">|</span> <span class="n">project_id</span>                          <span class="o">|</span> <span class="mf">9f</span><span class="n">b078d4c7e54a92b3068eb5c0f83ec5</span>                         <span class="o">|</span>
<span class="o">|</span> <span class="n">properties</span>                          <span class="o">|</span>                                                          <span class="o">|</span>
<span class="o">|</span> <span class="n">security_groups</span>                     <span class="o">|</span> <span class="n">name</span><span class="o">=</span><span class="err">&#39;</span><span class="k">default</span><span class="err">&#39;</span>                                           <span class="o">|</span>
<span class="o">|</span> <span class="n">status</span>                              <span class="o">|</span> <span class="n">ACTIVE</span>                                                   <span class="o">|</span>
<span class="o">|</span> <span class="n">updated</span>                             <span class="o">|</span> <span class="mi">2017</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">28</span><span class="nl">T08</span><span class="p">:</span><span class="mi">50</span><span class="o">:</span><span class="mo">00</span><span class="n">Z</span>                                     <span class="o">|</span>
<span class="o">|</span> <span class="n">user_id</span>                             <span class="o">|</span> <span class="mi">2</span><span class="n">d948bf4056c4e0d878a0f3f4765d3f9</span>                         <span class="o">|</span>
<span class="o">|</span> <span class="n">volumes_attached</span>                    <span class="o">|</span>                                                          <span class="o">|</span>
<span class="o">+-------------------------------------+----------------------------------------------------------+</span>

<span class="o">+-------------------------------------+----------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">Field</span>                               <span class="o">|</span> <span class="n">Value</span>                                                    <span class="o">|</span>
<span class="o">+-------------------------------------+----------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">OS</span><span class="o">-</span><span class="nl">DCF</span><span class="p">:</span><span class="n">diskConfig</span>                   <span class="o">|</span> <span class="n">MANUAL</span>                                                   <span class="o">|</span>
<span class="o">|</span> <span class="n">OS</span><span class="o">-</span><span class="n">EXT</span><span class="o">-</span><span class="nl">AZ</span><span class="p">:</span><span class="n">availability_zone</span>         <span class="o">|</span> <span class="n">nova</span>                                                     <span class="o">|</span>
<span class="o">|</span> <span class="n">OS</span><span class="o">-</span><span class="n">EXT</span><span class="o">-</span><span class="n">SRV</span><span class="o">-</span><span class="nl">ATTR</span><span class="p">:</span><span class="n">host</span>                <span class="o">|</span> <span class="n">compute1</span>                                                 <span class="o">|</span>
<span class="o">|</span> <span class="n">OS</span><span class="o">-</span><span class="n">EXT</span><span class="o">-</span><span class="n">SRV</span><span class="o">-</span><span class="nl">ATTR</span><span class="p">:</span><span class="n">hypervisor_hostname</span> <span class="o">|</span> <span class="n">compute1</span>                                                 <span class="o">|</span>
<span class="o">|</span> <span class="n">OS</span><span class="o">-</span><span class="n">EXT</span><span class="o">-</span><span class="n">SRV</span><span class="o">-</span><span class="nl">ATTR</span><span class="p">:</span><span class="n">instance_name</span>       <span class="o">|</span> <span class="n">instance</span><span class="o">-</span><span class="mo">0000000</span><span class="n">e</span>                                        <span class="o">|</span>
<span class="o">|</span> <span class="n">OS</span><span class="o">-</span><span class="n">EXT</span><span class="o">-</span><span class="nl">STS</span><span class="p">:</span><span class="n">power_state</span>              <span class="o">|</span> <span class="n">Running</span>                                                  <span class="o">|</span>
<span class="o">|</span> <span class="n">OS</span><span class="o">-</span><span class="n">EXT</span><span class="o">-</span><span class="nl">STS</span><span class="p">:</span><span class="n">task_state</span>               <span class="o">|</span> <span class="n">None</span>                                                     <span class="o">|</span>
<span class="o">|</span> <span class="n">OS</span><span class="o">-</span><span class="n">EXT</span><span class="o">-</span><span class="nl">STS</span><span class="p">:</span><span class="n">vm_state</span>                 <span class="o">|</span> <span class="n">active</span>                                                   <span class="o">|</span>
<span class="o">|</span> <span class="n">OS</span><span class="o">-</span><span class="n">SRV</span><span class="o">-</span><span class="nl">USG</span><span class="p">:</span><span class="n">launched_at</span>              <span class="o">|</span> <span class="mi">2017</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">28</span><span class="nl">T08</span><span class="p">:</span><span class="mi">50</span><span class="o">:</span><span class="mf">31.000000</span>                               <span class="o">|</span>
<span class="o">|</span> <span class="n">OS</span><span class="o">-</span><span class="n">SRV</span><span class="o">-</span><span class="nl">USG</span><span class="p">:</span><span class="n">terminated_at</span>            <span class="o">|</span> <span class="n">None</span>                                                     <span class="o">|</span>
<span class="o">|</span> <span class="n">accessIPv4</span>                          <span class="o">|</span>                                                          <span class="o">|</span>
<span class="o">|</span> <span class="n">accessIPv6</span>                          <span class="o">|</span>                                                          <span class="o">|</span>
<span class="o">|</span> <span class="n">addresses</span>                           <span class="o">|</span> <span class="n">demo</span><span class="o">-</span><span class="n">net</span><span class="o">=</span><span class="mf">10.0.0.7</span>                                        <span class="o">|</span>
<span class="o">|</span> <span class="n">adminPass</span>                           <span class="o">|</span> <span class="n">ZhQQG2vsetkV</span>                                             <span class="o">|</span>
<span class="o">|</span> <span class="n">config_drive</span>                        <span class="o">|</span>                                                          <span class="o">|</span>
<span class="o">|</span> <span class="n">created</span>                             <span class="o">|</span> <span class="mi">2017</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">28</span><span class="nl">T08</span><span class="p">:</span><span class="mi">50</span><span class="o">:</span><span class="mi">12</span><span class="n">Z</span>                                     <span class="o">|</span>
<span class="o">|</span> <span class="n">flavor</span>                              <span class="o">|</span> <span class="n">m1</span><span class="p">.</span><span class="n">tiny</span> <span class="p">(</span><span class="mi">1</span><span class="p">)</span>                                              <span class="o">|</span>
<span class="o">|</span> <span class="n">hostId</span>                              <span class="o">|</span> <span class="mi">95</span><span class="n">d62e067390ab4fbaaebf971f9cc70c98c371532b6f9bfa08389fee</span> <span class="o">|</span>
<span class="o">|</span> <span class="kt">id</span>                                  <span class="o">|</span> <span class="n">e126fd2f</span><span class="o">-</span><span class="n">bdca</span><span class="o">-</span><span class="mf">4e78</span><span class="o">-</span><span class="n">abc0</span><span class="o">-</span><span class="n">f0a2d4739a30</span>                     <span class="o">|</span>
<span class="o">|</span> <span class="n">image</span>                               <span class="o">|</span> <span class="n">cirros</span> <span class="p">(</span><span class="n">f0a80381</span><span class="o">-</span><span class="mi">2</span><span class="n">bd0</span><span class="o">-</span><span class="mi">4</span><span class="n">c53</span><span class="o">-</span><span class="mi">8300</span><span class="o">-</span><span class="mi">377</span><span class="n">a7e4bf065</span><span class="p">)</span>            <span class="o">|</span>
<span class="o">|</span> <span class="n">key_name</span>                            <span class="o">|</span> <span class="n">None</span>                                                     <span class="o">|</span>
<span class="o">|</span> <span class="n">name</span>                                <span class="o">|</span> <span class="n">kolla_sfc_client</span>                                         <span class="o">|</span>
<span class="o">|</span> <span class="n">progress</span>                            <span class="o">|</span> <span class="mi">0</span>                                                        <span class="o">|</span>
<span class="o">|</span> <span class="n">project_id</span>                          <span class="o">|</span> <span class="mf">9f</span><span class="n">b078d4c7e54a92b3068eb5c0f83ec5</span>                         <span class="o">|</span>
<span class="o">|</span> <span class="n">properties</span>                          <span class="o">|</span>                                                          <span class="o">|</span>
<span class="o">|</span> <span class="n">security_groups</span>                     <span class="o">|</span> <span class="n">name</span><span class="o">=</span><span class="err">&#39;</span><span class="k">default</span><span class="err">&#39;</span>                                           <span class="o">|</span>
<span class="o">|</span> <span class="n">status</span>                              <span class="o">|</span> <span class="n">ACTIVE</span>                                                   <span class="o">|</span>
<span class="o">|</span> <span class="n">updated</span>                             <span class="o">|</span> <span class="mi">2017</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">28</span><span class="nl">T08</span><span class="p">:</span><span class="mi">50</span><span class="o">:</span><span class="mi">31</span><span class="n">Z</span>                                     <span class="o">|</span>
<span class="o">|</span> <span class="n">user_id</span>                             <span class="o">|</span> <span class="mi">2</span><span class="n">d948bf4056c4e0d878a0f3f4765d3f9</span>                         <span class="o">|</span>
<span class="o">|</span> <span class="n">volumes_attached</span>                    <span class="o">|</span>                                                          <span class="o">|</span>
<span class="o">+-------------------------------------+----------------------------------------------------------+</span>
<span class="n">Tacker</span> <span class="n">SFC</span> <span class="n">config</span> <span class="n">files</span>
<span class="n">Creating</span> <span class="n">VNFFGD</span>
<span class="n">Created</span> <span class="n">a</span> <span class="n">new</span> <span class="nl">vnffgd</span><span class="p">:</span>
<span class="o">+-----------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">Field</span>           <span class="o">|</span> <span class="n">Value</span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           <span class="o">|</span>
<span class="o">+-----------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">description</span>     <span class="o">|</span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 <span class="o">|</span>
<span class="o">|</span> <span class="kt">id</span>              <span class="o">|</span> <span class="mi">97</span><span class="n">d9f9e9</span><span class="o">-</span><span class="n">f9c3</span><span class="o">-</span><span class="mi">45</span><span class="n">b6</span><span class="o">-</span><span class="mi">9050</span><span class="o">-</span><span class="mo">000226</span><span class="n">d37ec9</span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <span class="o">|</span>
<span class="o">|</span> <span class="n">name</span>            <span class="o">|</span> <span class="n">kolla</span><span class="o">-</span><span class="n">sample</span><span class="o">-</span><span class="n">vnffgd</span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             <span class="o">|</span>
<span class="o">|</span> <span class="n">template</span>        <span class="o">|</span> <span class="p">{</span><span class="s">&quot;vnffgd&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s">&quot;imports&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s">&quot;/var/lib/kolla/venv/lib/python2.7/site-packages/tacker/tosca/lib/tacker_defs.yaml&quot;</span><span class="p">,</span> <span class="s">&quot;/var/lib/kolla/venv/lib/python2.7/site-packages/tacker/tosca/lib/tacker_nfv_defs.yaml&quot;</span><span class="p">],</span> <span class="s">&quot;description&quot;</span><span class="o">:</span> <span class="s">&quot;Sample VNFFG template&quot;</span><span class="p">,</span> <span class="s">&quot;topology_template&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s">&quot;node_templates&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s">&quot;Forwarding_path1&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s">&quot;type&quot;</span><span class="o">:</span> <span class="s">&quot;tosca.nodes.nfv.FP.Tacker&quot;</span><span class="p">,</span> <span class="s">&quot;description&quot;</span><span class="o">:</span> <span class="s">&quot;creates path (CP12-&gt;CP12)&quot;</span><span class="p">,</span> <span class="s">&quot;properties&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s">&quot;policy&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s">&quot;type&quot;</span><span class="o">:</span> <span class="s">&quot;ACL&quot;</span><span class="p">,</span> <span class="s">&quot;criteria&quot;</span><span class="o">:</span> <span class="p">[{</span><span class="s">&quot;network_src_port_id&quot;</span><span class="o">:</span> <span class="s">&quot;2779e692-f979-467c-81ae-34a176e12ed4&quot;</span><span class="p">},</span> <span class="p">{</span><span class="s">&quot;network_id&quot;</span><span class="o">:</span> <span class="s">&quot;9ab78f83-40b7-4435-be5c-eb40de435793&quot;</span><span class="p">},</span> <span class="p">{</span><span class="s">&quot;ip_proto&quot;</span><span class="o">:</span> <span class="mi">6</span><span class="p">},</span> <span class="p">{</span><span class="s">&quot;destination_port_range&quot;</span><span class="o">:</span> <span class="s">&quot;80-80&quot;</span><span class="p">}]},</span> <span class="s">&quot;path&quot;</span><span class="o">:</span> <span class="p">[{</span><span class="s">&quot;capability&quot;</span><span class="o">:</span> <span class="s">&quot;CP11&quot;</span><span class="p">,</span> <span class="s">&quot;forwarder&quot;</span><span class="o">:</span> <span class="s">&quot;kolla-sample-vnfd&quot;</span><span class="p">}],</span> <span class="s">&quot;id&quot;</span><span class="o">:</span> <span class="mi">51</span><span class="p">}}},</span> <span class="s">&quot;description&quot;</span><span class="o">:</span> <span class="s">&quot;Sample VNFFG template&quot;</span><span class="p">,</span> <span class="s">&quot;groups&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s">&quot;VNFFG1&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s">&quot;type&quot;</span><span class="o">:</span> <span class="s">&quot;tosca.groups.nfv.VNFFG&quot;</span><span class="p">,</span> <span class="s">&quot;description&quot;</span><span class="o">:</span> <span class="s">&quot;HTTP to Corporate Net&quot;</span><span class="p">,</span> <span class="s">&quot;members&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s">&quot;Forwarding_path1&quot;</span><span class="p">],</span> <span class="s">&quot;properties&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s">&quot;vendor&quot;</span><span class="o">:</span> <span class="s">&quot;tacker&quot;</span><span class="p">,</span> <span class="s">&quot;connection_point&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s">&quot;CP11&quot;</span><span class="p">],</span> <span class="s">&quot;version&quot;</span><span class="o">:</span> <span class="mf">1.0</span><span class="p">,</span> <span class="s">&quot;constituent_vnfs&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s">&quot;kolla-sample-vnfd&quot;</span><span class="p">],</span> <span class="s">&quot;number_of_endpoints&quot;</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">&quot;dependent_virtual_link&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s">&quot;VL1&quot;</span><span class="p">]}}}},</span> <span class="s">&quot;tosca_definitions_version&quot;</span><span class="o">:</span> <span class="s">&quot;tosca_simple_profile_for_nfv_1_0_0&quot;</span><span class="p">}}</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">template_source</span> <span class="o">|</span> <span class="n">onboarded</span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       <span class="o">|</span>
<span class="o">|</span> <span class="n">tenant_id</span>       <span class="o">|</span> <span class="mf">9f</span><span class="n">b078d4c7e54a92b3068eb5c0f83ec5</span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <span class="o">|</span>
<span class="o">+-----------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span>
<span class="n">Creating</span> <span class="n">VNFFG</span>
<span class="n">Created</span> <span class="n">a</span> <span class="n">new</span> <span class="nl">vnffg</span><span class="p">:</span>
<span class="o">+------------------+---------------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">Field</span>            <span class="o">|</span> <span class="n">Value</span>                                                         <span class="o">|</span>
<span class="o">+------------------+---------------------------------------------------------------+</span>
<span class="o">|</span> <span class="n">description</span>      <span class="o">|</span>                                                               <span class="o">|</span>
<span class="o">|</span> <span class="n">forwarding_paths</span> <span class="o">|</span> <span class="n">cff3d46e</span><span class="o">-</span><span class="mi">9544</span><span class="o">-</span><span class="mi">4775</span><span class="o">-</span><span class="mi">82</span><span class="n">c3</span><span class="o">-</span><span class="mi">0</span><span class="n">ac3c1f3864c</span>                          <span class="o">|</span>
<span class="o">|</span> <span class="kt">id</span>               <span class="o">|</span> <span class="n">a1e2a010</span><span class="o">-</span><span class="mi">0</span><span class="n">c64</span><span class="o">-</span><span class="mi">40</span><span class="n">ad</span><span class="o">-</span><span class="n">a54a</span><span class="o">-</span><span class="mi">96</span><span class="n">d7e9d8e6a5</span>                          <span class="o">|</span>
<span class="o">|</span> <span class="n">name</span>             <span class="o">|</span> <span class="n">kolla</span><span class="o">-</span><span class="n">sample</span><span class="o">-</span><span class="n">vnffg</span>                                            <span class="o">|</span>
<span class="o">|</span> <span class="n">status</span>           <span class="o">|</span> <span class="n">PENDING_CREATE</span>                                                <span class="o">|</span>
<span class="o">|</span> <span class="n">tenant_id</span>        <span class="o">|</span> <span class="mf">9f</span><span class="n">b078d4c7e54a92b3068eb5c0f83ec5</span>                              <span class="o">|</span>
<span class="o">|</span> <span class="n">vnf_mapping</span>      <span class="o">|</span> <span class="p">{</span><span class="s">&quot;kolla-sample-vnfd&quot;</span><span class="o">:</span> <span class="s">&quot;a3f73d1b-6d6b-44c9-a6ef-a808f12bc633&quot;</span><span class="p">}</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">vnffgd_id</span>        <span class="o">|</span> <span class="mi">97</span><span class="n">d9f9e9</span><span class="o">-</span><span class="n">f9c3</span><span class="o">-</span><span class="mi">45</span><span class="n">b6</span><span class="o">-</span><span class="mi">9050</span><span class="o">-</span><span class="mo">000226</span><span class="n">d37ec9</span>                          <span class="o">|</span>
<span class="o">+------------------+---------------------------------------------------------------+</span>
<span class="n">Tacker</span> <span class="n">sfc</span> <span class="n">client</span> <span class="n">floating</span> <span class="n">ip</span> <span class="nl">address</span><span class="p">:</span> <span class="mf">192.168.150.102</span>
<span class="n">Tacker</span> <span class="n">sfc</span> <span class="n">server</span> <span class="n">floating</span> <span class="n">ip</span> <span class="nl">address</span><span class="p">:</span> <span class="mf">192.168.150.110</span>

<span class="n">Done</span><span class="p">.</span>

<span class="n">To</span> <span class="n">create</span> <span class="n">simple</span> <span class="n">HTTP</span> <span class="n">server</span> <span class="k">in</span> <span class="n">tacker_sfc_server</span> <span class="n">instance</span> <span class="nl">run</span><span class="p">:</span>

<span class="n">ssh</span> <span class="n">cirros</span><span class="mf">@192.168.150.110</span> <span class="err">&#39;</span><span class="k">while</span> <span class="nb">true</span><span class="p">;</span>   
   <span class="k">do</span> <span class="n">echo</span> <span class="o">-</span><span class="n">e</span> <span class="s">&quot;HTTP/1.0 200 OK</span><span class="se">\r\n\r\n</span><span class="s">W00t from Kolla HTTP server!&quot;</span> <span class="o">|</span> <span class="n">sudo</span> <span class="n">nc</span> <span class="o">-</span><span class="n">l</span> <span class="o">-</span><span class="n">p</span> <span class="mi">80</span> <span class="p">;</span> <span class="n">done</span> <span class="o">&amp;</span><span class="err">&#39;</span>
</pre></div>


<p>Once finished, script will show server and client floating IP addresses,
also a<br>
sample command to start a basic HTTP server in tacker_sfc_server
instance.</p>
<h2>Validate resources</h2>
<p>Verify tacker resources are created.</p>
<div class="highlight"><pre><span></span>$ tacker vim-list

+--------------------------------------+----------------------------------+------------------+-----------+------------+------------------------------+-----------+
<span class="p">|</span> id                                   <span class="p">|</span> tenant_id                        <span class="p">|</span> name             <span class="p">|</span> <span class="nb">type</span>      <span class="p">|</span> is_default <span class="p">|</span> placement_attr               <span class="p">|</span> status    <span class="p">|</span>
+--------------------------------------+----------------------------------+------------------+-----------+------------+------------------------------+-----------+
<span class="p">|</span> 0cb20dff-b6d2-44ab-9124-cdeb018269a2 <span class="p">|</span> 9fb078d4c7e54a92b3068eb5c0f83ec5 <span class="p">|</span> kolla-sample-vim <span class="p">|</span> openstack <span class="p">|</span> True       <span class="p">|</span> <span class="o">{</span>u<span class="s1">&#39;regions&#39;</span>: <span class="o">[</span>u<span class="s1">&#39;RegionOne&#39;</span><span class="o">]}</span> <span class="p">|</span> REACHABLE <span class="p">|</span>
+--------------------------------------+----------------------------------+------------------+-----------+------------+------------------------------+-----------+

$ tacker vnf-list
+--------------------------------------+------------------+-----------------------+--------+--------------------------------------+--------------------------------------+
<span class="p">|</span> id                                   <span class="p">|</span> name             <span class="p">|</span> mgmt_url              <span class="p">|</span> status <span class="p">|</span> vim_id                               <span class="p">|</span> vnfd_id                              <span class="p">|</span>
+--------------------------------------+------------------+-----------------------+--------+--------------------------------------+--------------------------------------+
<span class="p">|</span> a3f73d1b-6d6b-44c9-a6ef-a808f12bc633 <span class="p">|</span> kolla-sample-vnf <span class="p">|</span> <span class="o">{</span><span class="s2">&quot;VDU1&quot;</span>: <span class="s2">&quot;10.0.0.12&quot;</span><span class="o">}</span> <span class="p">|</span> ACTIVE <span class="p">|</span> 0cb20dff-b6d2-44ab-9124-cdeb018269a2 <span class="p">|</span> d9633774-f9a4-492c-8055-ff3b2bc08581 <span class="p">|</span>
+--------------------------------------+------------------+-----------------------+--------+--------------------------------------+--------------------------------------+

$ tacker vnfd-list
+--------------------------------------+-------------------+-----------------+--------------+
<span class="p">|</span> id                                   <span class="p">|</span> name              <span class="p">|</span> template_source <span class="p">|</span> description  <span class="p">|</span>
+--------------------------------------+-------------------+-----------------+--------------+
<span class="p">|</span> d9633774-f9a4-492c-8055-ff3b2bc08581 <span class="p">|</span> kolla-sample-vnfd <span class="p">|</span> onboarded       <span class="p">|</span> Demo example <span class="p">|</span>
+--------------------------------------+-------------------+-----------------+--------------+
</pre></div>


<p>Verify nova and heat resources are created.</p>
<div class="highlight"><pre><span></span>$ openstack server list

+--------------------------------------+-------------------------------------------------------+--------+------------------------------------+--------+-----------------------------------------------------------------------------------------------------------------------+
<span class="p">|</span> ID                                   <span class="p">|</span> Name                                                  <span class="p">|</span> Status <span class="p">|</span> Networks                           <span class="p">|</span> Image  <span class="p">|</span> Flavor                                                                                                                <span class="p">|</span>
+--------------------------------------+-------------------------------------------------------+--------+------------------------------------+--------+-----------------------------------------------------------------------------------------------------------------------+
<span class="p">|</span> e126fd2f-bdca-4e78-abc0-f0a2d4739a30 <span class="p">|</span> kolla_sfc_client                                      <span class="p">|</span> ACTIVE <span class="p">|</span> demo-net<span class="o">=</span><span class="m">10</span>.0.0.7, <span class="m">192</span>.168.150.102 <span class="p">|</span> cirros <span class="p">|</span> m1.tiny                                                                                                               <span class="p">|</span>
<span class="p">|</span> 90304f68-6b38-4753-b0c2-a62835abebde <span class="p">|</span> kolla_sfc_server                                      <span class="p">|</span> ACTIVE <span class="p">|</span> demo-net<span class="o">=</span><span class="m">10</span>.0.0.3, <span class="m">192</span>.168.150.110 <span class="p">|</span> cirros <span class="p">|</span> m1.tiny                                                                                                               <span class="p">|</span>
<span class="p">|</span> 61e2ec3a-444f-4048-bc8d-a599e29e14bd <span class="p">|</span> ta-3d1b-6d6b-44c9-a6ef-a808f12bc633-VDU1-hvpraqctwpm7 <span class="p">|</span> ACTIVE <span class="p">|</span> demo-net<span class="o">=</span><span class="m">10</span>.0.0.12                 <span class="p">|</span> cirros <span class="p">|</span> tacker.vnfm.infra_drivers.openstack.openstack_OpenStack-a3f73d1b-6d6b-44c9-a6ef-a808f12bc633-VDU1_flavor-4vsmp3jlvilk <span class="p">|</span>
+--------------------------------------+-------------------------------------------------------+--------+------------------------------------+--------+-----------------------------------------------------------------------------------------------------------------------+

$ openstack stack list
+--------------------------------------+----------------------------------------------------------------------------------------------+----------------------------------+-----------------+----------------------+--------------+
<span class="p">|</span> ID                                   <span class="p">|</span> Stack Name                                                                                   <span class="p">|</span> Project                          <span class="p">|</span> Stack Status    <span class="p">|</span> Creation Time        <span class="p">|</span> Updated Time <span class="p">|</span>
+--------------------------------------+----------------------------------------------------------------------------------------------+----------------------------------+-----------------+----------------------+--------------+
<span class="p">|</span> 57246b92-fdf2-416f-921a-6760e05c74b4 <span class="p">|</span> tacker.vnfm.infra_drivers.openstack.openstack_OpenStack-a3f73d1b-6d6b-44c9-a6ef-a808f12bc633 <span class="p">|</span> 9fb078d4c7e54a92b3068eb5c0f83ec5 <span class="p">|</span> CREATE_COMPLETE <span class="p">|</span> <span class="m">2017</span>-08-28T08:49:11Z <span class="p">|</span> None         <span class="p">|</span>
+--------------------------------------+----------------------------------------------------------------------------------------------+----------------------------------+-----------------+----------------------+--------------+
</pre></div>


<p>Verify networking-sfc resources.</p>
<div class="highlight"><pre><span></span>$ openstack sfc port chain list

+--------------------------------------+-------------------------------+-------------------------------------------+-------------------------------------------+------------------------------------------------+
<span class="p">|</span> ID                                   <span class="p">|</span> Name                          <span class="p">|</span> Port Pair Groups                          <span class="p">|</span> Flow Classifiers                          <span class="p">|</span> Chain Parameters                               <span class="p">|</span>
+--------------------------------------+-------------------------------+-------------------------------------------+-------------------------------------------+------------------------------------------------+
<span class="p">|</span> ec35dfac-dc9d-40b8-8103-b510761753ae <span class="p">|</span> kolla-sample-vnffg-port-chain <span class="p">|</span> <span class="o">[</span>u<span class="s1">&#39;9b73262f-f25d-400b-8aff-062d66a3bd76&#39;</span><span class="o">]</span> <span class="p">|</span> <span class="o">[</span>u<span class="s1">&#39;063231fc-f697-4bd9-bfb6-b89f89ff6117&#39;</span><span class="o">]</span> <span class="p">|</span> <span class="o">{</span>u<span class="s1">&#39;symmetric&#39;</span>: False, u<span class="s1">&#39;correlation&#39;</span>: u<span class="s1">&#39;mpls&#39;</span><span class="o">}</span> <span class="p">|</span>
+--------------------------------------+-------------------------------+-------------------------------------------+-------------------------------------------+------------------------------------------------+

$ openstack sfc port chain show kolla-sample-vnffg-port-chain
+------------------+------------------------------------------------+
<span class="p">|</span> Field            <span class="p">|</span> Value                                          <span class="p">|</span>
+------------------+------------------------------------------------+
<span class="p">|</span> chain_id         <span class="p">|</span> <span class="m">1</span>                                              <span class="p">|</span>
<span class="p">|</span> chain_parameters <span class="p">|</span> <span class="o">{</span>u<span class="s1">&#39;symmetric&#39;</span>: False, u<span class="s1">&#39;correlation&#39;</span>: u<span class="s1">&#39;mpls&#39;</span><span class="o">}</span> <span class="p">|</span>
<span class="p">|</span> description      <span class="p">|</span> port-chain <span class="k">for</span> Tacker VNFFG                    <span class="p">|</span>
<span class="p">|</span> flow_classifiers <span class="p">|</span> <span class="o">[</span>u<span class="s1">&#39;063231fc-f697-4bd9-bfb6-b89f89ff6117&#39;</span><span class="o">]</span>      <span class="p">|</span>
<span class="p">|</span> id               <span class="p">|</span> ec35dfac-dc9d-40b8-8103-b510761753ae           <span class="p">|</span>
<span class="p">|</span> name             <span class="p">|</span> kolla-sample-vnffg-port-chain                  <span class="p">|</span>
<span class="p">|</span> port_pair_groups <span class="p">|</span> <span class="o">[</span>u<span class="s1">&#39;9b73262f-f25d-400b-8aff-062d66a3bd76&#39;</span><span class="o">]</span>      <span class="p">|</span>
<span class="p">|</span> project_id       <span class="p">|</span> 9fb078d4c7e54a92b3068eb5c0f83ec5               <span class="p">|</span>
+------------------+------------------------------------------------+

$ openstack sfc port pair group list
+--------------------------------------+----------------------------------+-------------------------------------------+---------------------------------------------------------------------------------------------+
<span class="p">|</span> ID                                   <span class="p">|</span> Name                             <span class="p">|</span> Port Pair                                 <span class="p">|</span> Port Pair Group Parameters                                                                  <span class="p">|</span>
+--------------------------------------+----------------------------------+-------------------------------------------+---------------------------------------------------------------------------------------------+
<span class="p">|</span> 9b73262f-f25d-400b-8aff-062d66a3bd76 <span class="p">|</span> kolla-sample-vnf-port-pair-group <span class="p">|</span> <span class="o">[</span>u<span class="s1">&#39;bb944348-2610-4068-8c87-9288904edf11&#39;</span><span class="o">]</span> <span class="p">|</span> <span class="o">{</span>u<span class="s1">&#39;lb_fields&#39;</span>: <span class="o">[]</span>, u<span class="s1">&#39;ppg_n_tuple_mapping&#39;</span>: <span class="o">{</span>u<span class="s1">&#39;ingress_n_tuple&#39;</span>: <span class="o">{}</span>, u<span class="s1">&#39;egress_n_tuple&#39;</span>: <span class="o">{}}}</span> <span class="p">|</span>
+--------------------------------------+----------------------------------+-------------------------------------------+---------------------------------------------------------------------------------------------+
$ openstack sfc port pair group show kolla-sample-vnf-port-pair-group
+----------------------------+---------------------------------------------------------------------------------------------+
<span class="p">|</span> Field                      <span class="p">|</span> Value                                                                                       <span class="p">|</span>
+----------------------------+---------------------------------------------------------------------------------------------+
<span class="p">|</span> description                <span class="p">|</span> port pair group <span class="k">for</span> kolla-sample-vnf                                                        <span class="p">|</span>
<span class="p">|</span> group_id                   <span class="p">|</span> <span class="m">1</span>                                                                                           <span class="p">|</span>
<span class="p">|</span> id                         <span class="p">|</span> 9b73262f-f25d-400b-8aff-062d66a3bd76                                                        <span class="p">|</span>
<span class="p">|</span> name                       <span class="p">|</span> kolla-sample-vnf-port-pair-group                                                            <span class="p">|</span>
<span class="p">|</span> port_pair_group_parameters <span class="p">|</span> <span class="o">{</span>u<span class="s1">&#39;lb_fields&#39;</span>: <span class="o">[]</span>, u<span class="s1">&#39;ppg_n_tuple_mapping&#39;</span>: <span class="o">{</span>u<span class="s1">&#39;ingress_n_tuple&#39;</span>: <span class="o">{}</span>, u<span class="s1">&#39;egress_n_tuple&#39;</span>: <span class="o">{}}}</span> <span class="p">|</span>
<span class="p">|</span> port_pairs                 <span class="p">|</span> <span class="o">[</span>u<span class="s1">&#39;bb944348-2610-4068-8c87-9288904edf11&#39;</span><span class="o">]</span>                                                   <span class="p">|</span>
<span class="p">|</span> project_id                 <span class="p">|</span> 9fb078d4c7e54a92b3068eb5c0f83ec5                                                            <span class="p">|</span>
+----------------------------+---------------------------------------------------------------------------------------------+

$ openstack sfc flow classifier list
+--------------------------------------+------+----------+-----------+----------------+--------------------------------------+--------------------------+
<span class="p">|</span> ID                                   <span class="p">|</span> Name <span class="p">|</span> Protocol <span class="p">|</span> Source-IP <span class="p">|</span> Destination-IP <span class="p">|</span> Logical-Source-Port                  <span class="p">|</span> Logical-Destination-Port <span class="p">|</span>
+--------------------------------------+------+----------+-----------+----------------+--------------------------------------+--------------------------+
<span class="p">|</span> 063231fc-f697-4bd9-bfb6-b89f89ff6117 <span class="p">|</span>      <span class="p">|</span> tcp      <span class="p">|</span> None      <span class="p">|</span> None           <span class="p">|</span> 2779e692-f979-467c-81ae-34a176e12ed4 <span class="p">|</span> None                     <span class="p">|</span>
+--------------------------------------+------+----------+-----------+----------------+--------------------------------------+--------------------------+

$ openstack sfc flow classifier show 063231fc-f697-4bd9-bfb6-b89f89ff6117
+----------------------------+--------------------------------------+
<span class="p">|</span> Field                      <span class="p">|</span> Value                                <span class="p">|</span>
+----------------------------+--------------------------------------+
<span class="p">|</span> description                <span class="p">|</span>                                      <span class="p">|</span>
<span class="p">|</span> destination_ip_prefix      <span class="p">|</span> None                                 <span class="p">|</span>
<span class="p">|</span> destination_port_range_max <span class="p">|</span> <span class="m">80</span>                                   <span class="p">|</span>
<span class="p">|</span> destination_port_range_min <span class="p">|</span> <span class="m">80</span>                                   <span class="p">|</span>
<span class="p">|</span> ethertype                  <span class="p">|</span> IPv4                                 <span class="p">|</span>
<span class="p">|</span> id                         <span class="p">|</span> 063231fc-f697-4bd9-bfb6-b89f89ff6117 <span class="p">|</span>
<span class="p">|</span> l7_parameters              <span class="p">|</span> <span class="o">{}</span>                                   <span class="p">|</span>
<span class="p">|</span> logical_destination_port   <span class="p">|</span> None                                 <span class="p">|</span>
<span class="p">|</span> logical_source_port        <span class="p">|</span> 2779e692-f979-467c-81ae-34a176e12ed4 <span class="p">|</span>
<span class="p">|</span> name                       <span class="p">|</span>                                      <span class="p">|</span>
<span class="p">|</span> project_id                 <span class="p">|</span> 9fb078d4c7e54a92b3068eb5c0f83ec5     <span class="p">|</span>
<span class="p">|</span> protocol                   <span class="p">|</span> tcp                                  <span class="p">|</span>
<span class="p">|</span> source_ip_prefix           <span class="p">|</span> None                                 <span class="p">|</span>
<span class="p">|</span> source_port_range_max      <span class="p">|</span> None                                 <span class="p">|</span>
<span class="p">|</span> source_port_range_min      <span class="p">|</span> None                                 <span class="p">|</span>
+----------------------------+--------------------------------------+
</pre></div>


<h2>Verify traffic flows</h2>
<p>Execute the command to create a sample web server in
tacker_sfc_server.</p>
<div class="highlight"><pre><span></span><span class="err">$</span> <span class="n">ssh</span> <span class="n">cirros</span><span class="mf">@192.168.150.110</span> <span class="err">&#39;</span><span class="k">while</span> <span class="nb">true</span><span class="p">;</span>
</pre></div>


<blockquote>
<div class="highlight"><pre><span></span>do echo -e &quot;HTTP/1.0 200 OK\r\n\r\nW00t from Kolla HTTP server!&quot; | sudo nc -l -p 80 ; done &amp;&#39;
</pre></div>


</blockquote>
<div class="highlight"><pre><span></span><span class="n">The</span> <span class="n">authenticity</span> <span class="n">of</span> <span class="n">host</span> <span class="err">&#39;</span><span class="mf">192.168.150.110</span> <span class="p">(</span><span class="mf">192.168.150.110</span><span class="p">)</span><span class="err">&#39;</span> <span class="n">can</span><span class="err">&#39;</span><span class="n">t</span> <span class="n">be</span> <span class="n">established</span><span class="p">.</span>
<span class="n">RSA</span> <span class="n">key</span> <span class="n">fingerprint</span> <span class="n">is</span> <span class="nl">c6</span><span class="p">:</span><span class="mi">14</span><span class="o">:</span><span class="nl">b1</span><span class="p">:</span><span class="nl">d9</span><span class="p">:</span><span class="mi">84</span><span class="o">:</span><span class="nl">b5</span><span class="p">:</span><span class="mi">83</span><span class="o">:</span><span class="mi">54</span><span class="o">:</span><span class="mi">47</span><span class="o">:</span><span class="mi">8</span><span class="nl">e</span><span class="p">:</span><span class="mi">20</span><span class="o">:</span><span class="nl">eb</span><span class="p">:</span><span class="mi">81</span><span class="o">:</span><span class="nl">a2</span><span class="p">:</span><span class="nl">f7</span><span class="p">:</span><span class="mf">62.</span>
<span class="n">Are</span> <span class="n">you</span> <span class="n">sure</span> <span class="n">you</span> <span class="n">want</span> <span class="n">to</span> <span class="k">continue</span> <span class="n">connecting</span> <span class="p">(</span><span class="n">yes</span><span class="o">/</span><span class="n">no</span><span class="p">)</span><span class="o">?</span> <span class="n">yes</span>
<span class="nl">Warning</span><span class="p">:</span> <span class="n">Permanently</span> <span class="n">added</span> <span class="err">&#39;</span><span class="mf">192.168.150.110</span><span class="err">&#39;</span> <span class="p">(</span><span class="n">RSA</span><span class="p">)</span> <span class="n">to</span> <span class="n">the</span> <span class="n">list</span> <span class="n">of</span> <span class="n">known</span> <span class="n">hosts</span><span class="p">.</span>
<span class="n">cirros</span><span class="mf">@192.168.150.110</span><span class="err">&#39;</span><span class="n">s</span> <span class="nl">password</span><span class="p">:</span>
</pre></div>


<p>Connect to tacker_sfc_client through the floating IP address</p>
<div class="highlight"><pre><span></span><span class="err">$</span> <span class="n">ssh</span> <span class="n">cirros</span><span class="mf">@192.168.150.102</span>

<span class="n">The</span> <span class="n">authenticity</span> <span class="n">of</span> <span class="n">host</span> <span class="err">&#39;</span><span class="mf">192.168.150.102</span> <span class="p">(</span><span class="mf">192.168.150.102</span><span class="p">)</span><span class="err">&#39;</span> <span class="n">can</span><span class="err">&#39;</span><span class="n">t</span> <span class="n">be</span> <span class="n">established</span><span class="p">.</span>
<span class="n">RSA</span> <span class="n">key</span> <span class="n">fingerprint</span> <span class="n">is</span> <span class="mi">5</span><span class="nl">e</span><span class="p">:</span><span class="mi">51</span><span class="o">:</span><span class="mi">88</span><span class="o">:</span><span class="mi">93</span><span class="o">:</span><span class="mi">70</span><span class="o">:</span><span class="mi">90</span><span class="o">:</span><span class="mi">0</span><span class="nl">e</span><span class="p">:</span><span class="mi">24</span><span class="o">:</span><span class="mi">55</span><span class="o">:</span><span class="mi">81</span><span class="o">:</span><span class="mi">47</span><span class="o">:</span><span class="nl">b4</span><span class="p">:</span><span class="nl">d6</span><span class="p">:</span><span class="mi">28</span><span class="o">:</span><span class="mi">4</span><span class="nl">b</span><span class="p">:</span><span class="n">f9</span><span class="p">.</span>
<span class="n">Are</span> <span class="n">you</span> <span class="n">sure</span> <span class="n">you</span> <span class="n">want</span> <span class="n">to</span> <span class="k">continue</span> <span class="n">connecting</span> <span class="p">(</span><span class="n">yes</span><span class="o">/</span><span class="n">no</span><span class="p">)</span><span class="o">?</span> <span class="n">yes</span>
<span class="nl">Warning</span><span class="p">:</span> <span class="n">Permanently</span> <span class="n">added</span> <span class="err">&#39;</span><span class="mf">192.168.150.102</span><span class="err">&#39;</span> <span class="p">(</span><span class="n">RSA</span><span class="p">)</span> <span class="n">to</span> <span class="n">the</span> <span class="n">list</span> <span class="n">of</span> <span class="n">known</span> <span class="n">hosts</span><span class="p">.</span>
<span class="n">cirros</span><span class="mf">@192.168.150.102</span><span class="err">&#39;</span><span class="n">s</span> <span class="nl">password</span><span class="p">:</span>
</pre></div>


<p>Curl to tacker_sfc_server internal/fixed IP address.<br>
Should receive "W00t from Kolla HTTP server!" message</p>
<div class="highlight"><pre><span></span>$ curl http://10.0.0.3
W00t from Kolla HTTP server!
</pre></div>


<p>Find hypervisor where tacker VNF instance is running.</p>
<div class="highlight"><pre><span></span>$ openstack server list -c Name -c Host -c Networks -c Status --long

+-------------------------------------------------------+--------+------------------------------------+------------+
<span class="p">|</span> Name                                                  <span class="p">|</span> Status <span class="p">|</span> Networks                           <span class="p">|</span> Host       <span class="p">|</span>
+-------------------------------------------------------+--------+------------------------------------+------------+
<span class="p">|</span> kolla_sfc_client                                      <span class="p">|</span> ACTIVE <span class="p">|</span> demo-net<span class="o">=</span><span class="m">10</span>.0.0.7, <span class="m">192</span>.168.150.102 <span class="p">|</span> compute1   <span class="p">|</span>
<span class="p">|</span> kolla_sfc_server                                      <span class="p">|</span> ACTIVE <span class="p">|</span> demo-net<span class="o">=</span><span class="m">10</span>.0.0.3, <span class="m">192</span>.168.150.110 <span class="p">|</span> controller <span class="p">|</span>
<span class="p">|</span> ta-3d1b-6d6b-44c9-a6ef-a808f12bc633-VDU1-hvpraqctwpm7 <span class="p">|</span> ACTIVE <span class="p">|</span> demo-net<span class="o">=</span><span class="m">10</span>.0.0.12                 <span class="p">|</span> compute1   <span class="p">|</span>
+-------------------------------------------------------+--------+------------------------------------+------------+
</pre></div>


<p>Find tacker VNF instance port ID</p>
<div class="highlight"><pre><span></span>$ openstack port list --server ta-3d1b-6d6b-44c9-a6ef-a808f12bc633-VDU1-hvpraqctwpm7 -c ID
+--------------------------------------+
<span class="p">|</span> ID                                   <span class="p">|</span>
+--------------------------------------+
<span class="p">|</span> e5da60a7-a348-4bee-a52a-96ae33b53a26 <span class="p">|</span>
+--------------------------------------+
</pre></div>


<p>In the host where the instance is running, locate the tap interface.<br>
Tap interface is <code>tap&lt;first 11 ID digits&gt;</code>.<br>
Start tcpdump in port 80 in the tap interface.</p>
<div class="highlight"><pre><span></span>$ tcpdump port <span class="m">80</span> -eni tape5da60a7-a3

tcpdump: WARNING: tape5da60a7-a3: no IPv4 address assigned
tcpdump: verbose output suppressed, use -v or -vv <span class="k">for</span> full protocol decode
listening on tape5da60a7-a3, link-type EN10MB <span class="o">(</span>Ethernet<span class="o">)</span>, capture size <span class="m">65535</span> bytes
</pre></div>


<p>Now curl again from tacker_sfc_client instance.</p>
<div class="highlight"><pre><span></span>$ curl http://10.0.0.3
W00t from Kolla HTTP server!
</pre></div>


<p>In the tcpdump should see traffic flowing to tacker_sfc_server from
tacker_sfc_client</p>
<div class="highlight"><pre><span></span><span class="mi">10</span><span class="o">:</span><span class="mi">18</span><span class="o">:</span><span class="mf">39.207908</span> <span class="n">fa</span><span class="o">:</span><span class="mi">16</span><span class="o">:</span><span class="mi">3</span><span class="n">e</span><span class="o">:</span><span class="mi">6</span><span class="n">d</span><span class="o">:</span><span class="mi">65</span><span class="o">:</span><span class="mi">14</span> <span class="o">&gt;</span> <span class="n">fa</span><span class="o">:</span><span class="mi">16</span><span class="o">:</span><span class="mi">3</span><span class="n">e</span><span class="o">:</span><span class="mi">2</span><span class="n">f</span><span class="o">:</span><span class="mi">3</span><span class="n">e</span><span class="o">:</span><span class="mi">90</span><span class="o">,</span> <span class="n">ethertype</span> <span class="n">IPv4</span> <span class="o">(</span><span class="mh">0x0800</span><span class="o">),</span> <span class="n">length</span> <span class="mi">74</span><span class="o">:</span> <span class="mf">10.0</span><span class="o">.</span><span class="mf">0.7</span><span class="o">.</span><span class="mi">40475</span> <span class="o">&gt;</span> <span class="mf">10.0</span><span class="o">.</span><span class="mf">0.3</span><span class="o">.</span><span class="na">http</span><span class="o">:</span> <span class="n">Flags</span> <span class="o">[</span><span class="n">S</span><span class="o">],</span> <span class="n">seq</span> <span class="mi">3060324847</span><span class="o">,</span> <span class="n">win</span> <span class="mi">14100</span><span class="o">,</span> <span class="n">options</span> <span class="o">[</span><span class="n">mss</span> <span class="mi">1410</span><span class="o">,</span><span class="n">sackOK</span><span class="o">,</span><span class="n">TS</span> <span class="n">val</span> <span class="mi">346030</span> <span class="n">ecr</span> <span class="mi">0</span><span class="o">,</span><span class="n">nop</span><span class="o">,</span><span class="n">wscale</span> <span class="mi">3</span><span class="o">],</span> <span class="n">length</span> <span class="mi">0</span>
<span class="mi">10</span><span class="o">:</span><span class="mi">18</span><span class="o">:</span><span class="mf">39.209263</span> <span class="n">fa</span><span class="o">:</span><span class="mi">16</span><span class="o">:</span><span class="mi">3</span><span class="n">e</span><span class="o">:</span><span class="mi">2</span><span class="n">f</span><span class="o">:</span><span class="mi">3</span><span class="n">e</span><span class="o">:</span><span class="mi">90</span> <span class="o">&gt;</span> <span class="n">fa</span><span class="o">:</span><span class="mi">16</span><span class="o">:</span><span class="mi">3</span><span class="n">e</span><span class="o">:</span><span class="n">d7</span><span class="o">:</span><span class="mi">6</span><span class="n">f</span><span class="o">:</span><span class="mi">3</span><span class="n">b</span><span class="o">,</span> <span class="n">ethertype</span> <span class="n">IPv4</span> <span class="o">(</span><span class="mh">0x0800</span><span class="o">),</span> <span class="n">length</span> <span class="mi">74</span><span class="o">:</span> <span class="mf">10.0</span><span class="o">.</span><span class="mf">0.7</span><span class="o">.</span><span class="mi">40475</span> <span class="o">&gt;</span> <span class="mf">10.0</span><span class="o">.</span><span class="mf">0.3</span><span class="o">.</span><span class="na">http</span><span class="o">:</span> <span class="n">Flags</span> <span class="o">[</span><span class="n">S</span><span class="o">],</span> <span class="n">seq</span> <span class="mi">3060324847</span><span class="o">,</span> <span class="n">win</span> <span class="mi">14100</span><span class="o">,</span> <span class="n">options</span> <span class="o">[</span><span class="n">mss</span> <span class="mi">1410</span><span class="o">,</span><span class="n">sackOK</span><span class="o">,</span><span class="n">TS</span> <span class="n">val</span> <span class="mi">346030</span> <span class="n">ecr</span> <span class="mi">0</span><span class="o">,</span><span class="n">nop</span><span class="o">,</span><span class="n">wscale</span> <span class="mi">3</span><span class="o">],</span> <span class="n">length</span> <span class="mi">0</span>
<span class="mi">10</span><span class="o">:</span><span class="mi">18</span><span class="o">:</span><span class="mf">39.214001</span> <span class="n">fa</span><span class="o">:</span><span class="mi">16</span><span class="o">:</span><span class="mi">3</span><span class="n">e</span><span class="o">:</span><span class="mi">6</span><span class="n">d</span><span class="o">:</span><span class="mi">65</span><span class="o">:</span><span class="mi">14</span> <span class="o">&gt;</span> <span class="n">fa</span><span class="o">:</span><span class="mi">16</span><span class="o">:</span><span class="mi">3</span><span class="n">e</span><span class="o">:</span><span class="mi">2</span><span class="n">f</span><span class="o">:</span><span class="mi">3</span><span class="n">e</span><span class="o">:</span><span class="mi">90</span><span class="o">,</span> <span class="n">ethertype</span> <span class="n">IPv4</span> <span class="o">(</span><span class="mh">0x0800</span><span class="o">),</span> <span class="n">length</span> <span class="mi">66</span><span class="o">:</span> <span class="mf">10.0</span><span class="o">.</span><span class="mf">0.7</span><span class="o">.</span><span class="mi">40475</span> <span class="o">&gt;</span> <span class="mf">10.0</span><span class="o">.</span><span class="mf">0.3</span><span class="o">.</span><span class="na">http</span><span class="o">:</span> <span class="n">Flags</span> <span class="o">[.],</span> <span class="n">ack</span> <span class="mi">2793310193</span><span class="o">,</span> <span class="n">win</span> <span class="mi">1763</span><span class="o">,</span> <span class="n">options</span> <span class="o">[</span><span class="n">nop</span><span class="o">,</span><span class="n">nop</span><span class="o">,</span><span class="n">TS</span> <span class="n">val</span> <span class="mi">346032</span> <span class="n">ecr</span> <span class="mi">352982</span><span class="o">],</span> <span class="n">length</span> <span class="mi">0</span>
<span class="mi">10</span><span class="o">:</span><span class="mi">18</span><span class="o">:</span><span class="mf">39.214924</span> <span class="n">fa</span><span class="o">:</span><span class="mi">16</span><span class="o">:</span><span class="mi">3</span><span class="n">e</span><span class="o">:</span><span class="mi">2</span><span class="n">f</span><span class="o">:</span><span class="mi">3</span><span class="n">e</span><span class="o">:</span><span class="mi">90</span> <span class="o">&gt;</span> <span class="n">fa</span><span class="o">:</span><span class="mi">16</span><span class="o">:</span><span class="mi">3</span><span class="n">e</span><span class="o">:</span><span class="n">d7</span><span class="o">:</span><span class="mi">6</span><span class="n">f</span><span class="o">:</span><span class="mi">3</span><span class="n">b</span><span class="o">,</span> <span class="n">ethertype</span> <span class="n">IPv4</span> <span class="o">(</span><span class="mh">0x0800</span><span class="o">),</span> <span class="n">length</span> <span class="mi">66</span><span class="o">:</span> <span class="mf">10.0</span><span class="o">.</span><span class="mf">0.7</span><span class="o">.</span><span class="mi">40475</span> <span class="o">&gt;</span> <span class="mf">10.0</span><span class="o">.</span><span class="mf">0.3</span><span class="o">.</span><span class="na">http</span><span class="o">:</span> <span class="n">Flags</span> <span class="o">[.],</span> <span class="n">ack</span> <span class="mi">1</span><span class="o">,</span> <span class="n">win</span> <span class="mi">1763</span><span class="o">,</span> <span class="n">options</span> <span class="o">[</span><span class="n">nop</span><span class="o">,</span><span class="n">nop</span><span class="o">,</span><span class="n">TS</span> <span class="n">val</span> <span class="mi">346032</span> <span class="n">ecr</span> <span class="mi">352982</span><span class="o">],</span> <span class="n">length</span> <span class="mi">0</span>
<span class="mi">10</span><span class="o">:</span><span class="mi">18</span><span class="o">:</span><span class="mf">39.222308</span> <span class="n">fa</span><span class="o">:</span><span class="mi">16</span><span class="o">:</span><span class="mi">3</span><span class="n">e</span><span class="o">:</span><span class="mi">6</span><span class="n">d</span><span class="o">:</span><span class="mi">65</span><span class="o">:</span><span class="mi">14</span> <span class="o">&gt;</span> <span class="n">fa</span><span class="o">:</span><span class="mi">16</span><span class="o">:</span><span class="mi">3</span><span class="n">e</span><span class="o">:</span><span class="mi">2</span><span class="n">f</span><span class="o">:</span><span class="mi">3</span><span class="n">e</span><span class="o">:</span><span class="mi">90</span><span class="o">,</span> <span class="n">ethertype</span> <span class="n">IPv4</span> <span class="o">(</span><span class="mh">0x0800</span><span class="o">),</span> <span class="n">length</span> <span class="mi">201</span><span class="o">:</span> <span class="mf">10.0</span><span class="o">.</span><span class="mf">0.7</span><span class="o">.</span><span class="mi">40475</span> <span class="o">&gt;</span> <span class="mf">10.0</span><span class="o">.</span><span class="mf">0.3</span><span class="o">.</span><span class="na">http</span><span class="o">:</span> <span class="n">Flags</span> <span class="o">[</span><span class="n">P</span><span class="o">.],</span> <span class="n">seq</span> <span class="mi">0</span><span class="o">:</span><span class="mi">135</span><span class="o">,</span> <span class="n">ack</span> <span class="mi">1</span><span class="o">,</span> <span class="n">win</span> <span class="mi">1763</span><span class="o">,</span> <span class="n">options</span> <span class="o">[</span><span class="n">nop</span><span class="o">,</span><span class="n">nop</span><span class="o">,</span><span class="n">TS</span> <span class="n">val</span> <span class="mi">346034</span> <span class="n">ecr</span> <span class="mi">352982</span><span class="o">],</span> <span class="n">length</span> <span class="mi">135</span>
<span class="mi">10</span><span class="o">:</span><span class="mi">18</span><span class="o">:</span><span class="mf">39.222333</span> <span class="n">fa</span><span class="o">:</span><span class="mi">16</span><span class="o">:</span><span class="mi">3</span><span class="n">e</span><span class="o">:</span><span class="mi">6</span><span class="n">d</span><span class="o">:</span><span class="mi">65</span><span class="o">:</span><span class="mi">14</span> <span class="o">&gt;</span> <span class="n">fa</span><span class="o">:</span><span class="mi">16</span><span class="o">:</span><span class="mi">3</span><span class="n">e</span><span class="o">:</span><span class="mi">2</span><span class="n">f</span><span class="o">:</span><span class="mi">3</span><span class="n">e</span><span class="o">:</span><span class="mi">90</span><span class="o">,</span> <span class="n">ethertype</span> <span class="n">IPv4</span> <span class="o">(</span><span class="mh">0x0800</span><span class="o">),</span> <span class="n">length</span> <span class="mi">66</span><span class="o">:</span> <span class="mf">10.0</span><span class="o">.</span><span class="mf">0.7</span><span class="o">.</span><span class="mi">40475</span> <span class="o">&gt;</span> <span class="mf">10.0</span><span class="o">.</span><span class="mf">0.3</span><span class="o">.</span><span class="na">http</span><span class="o">:</span> <span class="n">Flags</span> <span class="o">[.],</span> <span class="n">ack</span> <span class="mi">49</span><span class="o">,</span> <span class="n">win</span> <span class="mi">1763</span><span class="o">,</span> <span class="n">options</span> <span class="o">[</span><span class="n">nop</span><span class="o">,</span><span class="n">nop</span><span class="o">,</span><span class="n">TS</span> <span class="n">val</span> <span class="mi">346034</span> <span class="n">ecr</span> <span class="mi">352983</span><span class="o">],</span> <span class="n">length</span> <span class="mi">0</span>
<span class="mi">10</span><span class="o">:</span><span class="mi">18</span><span class="o">:</span><span class="mf">39.224660</span> <span class="n">fa</span><span class="o">:</span><span class="mi">16</span><span class="o">:</span><span class="mi">3</span><span class="n">e</span><span class="o">:</span><span class="mi">2</span><span class="n">f</span><span class="o">:</span><span class="mi">3</span><span class="n">e</span><span class="o">:</span><span class="mi">90</span> <span class="o">&gt;</span> <span class="n">fa</span><span class="o">:</span><span class="mi">16</span><span class="o">:</span><span class="mi">3</span><span class="n">e</span><span class="o">:</span><span class="n">d7</span><span class="o">:</span><span class="mi">6</span><span class="n">f</span><span class="o">:</span><span class="mi">3</span><span class="n">b</span><span class="o">,</span> <span class="n">ethertype</span> <span class="n">IPv4</span> <span class="o">(</span><span class="mh">0x0800</span><span class="o">),</span> <span class="n">length</span> <span class="mi">201</span><span class="o">:</span> <span class="mf">10.0</span><span class="o">.</span><span class="mf">0.7</span><span class="o">.</span><span class="mi">40475</span> <span class="o">&gt;</span> <span class="mf">10.0</span><span class="o">.</span><span class="mf">0.3</span><span class="o">.</span><span class="na">http</span><span class="o">:</span> <span class="n">Flags</span> <span class="o">[</span><span class="n">P</span><span class="o">.],</span> <span class="n">seq</span> <span class="mi">0</span><span class="o">:</span><span class="mi">135</span><span class="o">,</span> <span class="n">ack</span> <span class="mi">1</span><span class="o">,</span> <span class="n">win</span> <span class="mi">1763</span><span class="o">,</span> <span class="n">options</span> <span class="o">[</span><span class="n">nop</span><span class="o">,</span><span class="n">nop</span><span class="o">,</span><span class="n">TS</span> <span class="n">val</span> <span class="mi">346034</span> <span class="n">ecr</span> <span class="mi">352982</span><span class="o">],</span> <span class="n">length</span> <span class="mi">135</span>
<span class="mi">10</span><span class="o">:</span><span class="mi">18</span><span class="o">:</span><span class="mf">39.224773</span> <span class="n">fa</span><span class="o">:</span><span class="mi">16</span><span class="o">:</span><span class="mi">3</span><span class="n">e</span><span class="o">:</span><span class="mi">2</span><span class="n">f</span><span class="o">:</span><span class="mi">3</span><span class="n">e</span><span class="o">:</span><span class="mi">90</span> <span class="o">&gt;</span> <span class="n">fa</span><span class="o">:</span><span class="mi">16</span><span class="o">:</span><span class="mi">3</span><span class="n">e</span><span class="o">:</span><span class="n">d7</span><span class="o">:</span><span class="mi">6</span><span class="n">f</span><span class="o">:</span><span class="mi">3</span><span class="n">b</span><span class="o">,</span> <span class="n">ethertype</span> <span class="n">IPv4</span> <span class="o">(</span><span class="mh">0x0800</span><span class="o">),</span> <span class="n">length</span> <span class="mi">66</span><span class="o">:</span> <span class="mf">10.0</span><span class="o">.</span><span class="mf">0.7</span><span class="o">.</span><span class="mi">40475</span> <span class="o">&gt;</span> <span class="mf">10.0</span><span class="o">.</span><span class="mf">0.3</span><span class="o">.</span><span class="na">http</span><span class="o">:</span> <span class="n">Flags</span> <span class="o">[.],</span> <span class="n">ack</span> <span class="mi">49</span><span class="o">,</span> <span class="n">win</span> <span class="mi">1763</span><span class="o">,</span> <span class="n">options</span> <span class="o">[</span><span class="n">nop</span><span class="o">,</span><span class="n">nop</span><span class="o">,</span><span class="n">TS</span> <span class="n">val</span> <span class="mi">346034</span> <span class="n">ecr</span> <span class="mi">352983</span><span class="o">],</span> <span class="n">length</span> <span class="mi">0</span>
<span class="mi">10</span><span class="o">:</span><span class="mi">18</span><span class="o">:</span><span class="mf">39.250113</span> <span class="n">fa</span><span class="o">:</span><span class="mi">16</span><span class="o">:</span><span class="mi">3</span><span class="n">e</span><span class="o">:</span><span class="mi">6</span><span class="n">d</span><span class="o">:</span><span class="mi">65</span><span class="o">:</span><span class="mi">14</span> <span class="o">&gt;</span> <span class="n">fa</span><span class="o">:</span><span class="mi">16</span><span class="o">:</span><span class="mi">3</span><span class="n">e</span><span class="o">:</span><span class="mi">2</span><span class="n">f</span><span class="o">:</span><span class="mi">3</span><span class="n">e</span><span class="o">:</span><span class="mi">90</span><span class="o">,</span> <span class="n">ethertype</span> <span class="n">IPv4</span> <span class="o">(</span><span class="mh">0x0800</span><span class="o">),</span> <span class="n">length</span> <span class="mi">66</span><span class="o">:</span> <span class="mf">10.0</span><span class="o">.</span><span class="mf">0.7</span><span class="o">.</span><span class="mi">40475</span> <span class="o">&gt;</span> <span class="mf">10.0</span><span class="o">.</span><span class="mf">0.3</span><span class="o">.</span><span class="na">http</span><span class="o">:</span> <span class="n">Flags</span> <span class="o">[</span><span class="n">F</span><span class="o">.],</span> <span class="n">seq</span> <span class="mi">135</span><span class="o">,</span> <span class="n">ack</span> <span class="mi">50</span><span class="o">,</span> <span class="n">win</span> <span class="mi">1763</span><span class="o">,</span> <span class="n">options</span> <span class="o">[</span><span class="n">nop</span><span class="o">,</span><span class="n">nop</span><span class="o">,</span><span class="n">TS</span> <span class="n">val</span> <span class="mi">346041</span> <span class="n">ecr</span> <span class="mi">352990</span><span class="o">],</span> <span class="n">length</span> <span class="mi">0</span>
<span class="mi">10</span><span class="o">:</span><span class="mi">18</span><span class="o">:</span><span class="mf">39.252871</span> <span class="n">fa</span><span class="o">:</span><span class="mi">16</span><span class="o">:</span><span class="mi">3</span><span class="n">e</span><span class="o">:</span><span class="mi">2</span><span class="n">f</span><span class="o">:</span><span class="mi">3</span><span class="n">e</span><span class="o">:</span><span class="mi">90</span> <span class="o">&gt;</span> <span class="n">fa</span><span class="o">:</span><span class="mi">16</span><span class="o">:</span><span class="mi">3</span><span class="n">e</span><span class="o">:</span><span class="n">d7</span><span class="o">:</span><span class="mi">6</span><span class="n">f</span><span class="o">:</span><span class="mi">3</span><span class="n">b</span><span class="o">,</span> <span class="n">ethertype</span> <span class="n">IPv4</span> <span class="o">(</span><span class="mh">0x0800</span><span class="o">),</span> <span class="n">length</span> <span class="mi">66</span><span class="o">:</span> <span class="mf">10.0</span><span class="o">.</span><span class="mf">0.7</span><span class="o">.</span><span class="mi">40475</span> <span class="o">&gt;</span> <span class="mf">10.0</span><span class="o">.</span><span class="mf">0.3</span><span class="o">.</span><span class="na">http</span><span class="o">:</span> <span class="n">Flags</span> <span class="o">[</span><span class="n">F</span><span class="o">.],</span> <span class="n">seq</span> <span class="mi">135</span><span class="o">,</span> <span class="n">ack</span> <span class="mi">50</span><span class="o">,</span> <span class="n">win</span> <span class="mi">1763</span><span class="o">,</span> <span class="n">options</span> <span class="o">[</span><span class="n">nop</span><span class="o">,</span><span class="n">nop</span><span class="o">,</span><span class="n">TS</span> <span class="n">val</span> <span class="mi">346041</span> <span class="n">ecr</span> <span class="mi">352990</span><span class="o">],</span> <span class="n">length</span> <span class="mi">0</span>
</pre></div>


<p>Check br-int ovs flows.</p>
<div class="highlight"><pre><span></span>$ docker <span class="nb">exec</span> openvswitch_db ovs-ofctl dump-flows br-int

NXST_FLOW reply <span class="o">(</span><span class="nv">xid</span><span class="o">=</span>0x4<span class="o">)</span>:
 <span class="nv">cookie</span><span class="o">=</span>0x4d21ac58ca610153, <span class="nv">duration</span><span class="o">=</span><span class="m">1952</span>.266s, <span class="nv">table</span><span class="o">=</span><span class="m">0</span>, <span class="nv">n_packets</span><span class="o">=</span><span class="m">20</span>, <span class="nv">n_bytes</span><span class="o">=</span><span class="m">1892</span>, <span class="nv">idle_age</span><span class="o">=</span><span class="m">300</span>, <span class="nv">priority</span><span class="o">=</span><span class="m">30</span>,tcp,in_port<span class="o">=</span><span class="m">4</span>,nw_src<span class="o">=</span><span class="m">10</span>.0.0.7,tp_dst<span class="o">=</span><span class="m">80</span> <span class="nv">actions</span><span class="o">=</span>NORMAL
 <span class="nv">cookie</span><span class="o">=</span>0x4d21ac58ca610153, <span class="nv">duration</span><span class="o">=</span><span class="m">1951</span>.781s, <span class="nv">table</span><span class="o">=</span><span class="m">0</span>, <span class="nv">n_packets</span><span class="o">=</span><span class="m">20</span>, <span class="nv">n_bytes</span><span class="o">=</span><span class="m">1892</span>, <span class="nv">idle_age</span><span class="o">=</span><span class="m">300</span>, <span class="nv">priority</span><span class="o">=</span><span class="m">30</span>,tcp,in_port<span class="o">=</span><span class="m">5</span>,nw_src<span class="o">=</span><span class="m">10</span>.0.0.7,tp_dst<span class="o">=</span><span class="m">80</span> <span class="nv">actions</span><span class="o">=</span>group:1
 <span class="nv">cookie</span><span class="o">=</span>0x4d21ac58ca610153, <span class="nv">duration</span><span class="o">=</span><span class="m">3824</span>.910s, <span class="nv">table</span><span class="o">=</span><span class="m">0</span>, <span class="nv">n_packets</span><span class="o">=</span><span class="m">0</span>, <span class="nv">n_bytes</span><span class="o">=</span><span class="m">0</span>, <span class="nv">idle_age</span><span class="o">=</span><span class="m">3824</span>, <span class="nv">priority</span><span class="o">=</span><span class="m">20</span>,mpls <span class="nv">actions</span><span class="o">=</span>resubmit<span class="o">(</span>,10<span class="o">)</span>
 <span class="nv">cookie</span><span class="o">=</span>0x5efe7af1c4c4da43, <span class="nv">duration</span><span class="o">=</span><span class="m">1986</span>.768s, <span class="nv">table</span><span class="o">=</span><span class="m">0</span>, <span class="nv">n_packets</span><span class="o">=</span><span class="m">0</span>, <span class="nv">n_bytes</span><span class="o">=</span><span class="m">0</span>, <span class="nv">idle_age</span><span class="o">=</span><span class="m">1986</span>, <span class="nv">priority</span><span class="o">=</span><span class="m">10</span>,icmp6,in_port<span class="o">=</span><span class="m">5</span>,icmp_type<span class="o">=</span><span class="m">136</span> <span class="nv">actions</span><span class="o">=</span>resubmit<span class="o">(</span>,24<span class="o">)</span>
 <span class="nv">cookie</span><span class="o">=</span>0x5efe7af1c4c4da43, <span class="nv">duration</span><span class="o">=</span><span class="m">1986</span>.765s, <span class="nv">table</span><span class="o">=</span><span class="m">0</span>, <span class="nv">n_packets</span><span class="o">=</span><span class="m">9</span>, <span class="nv">n_bytes</span><span class="o">=</span><span class="m">378</span>, <span class="nv">idle_age</span><span class="o">=</span><span class="m">296</span>, <span class="nv">priority</span><span class="o">=</span><span class="m">10</span>,arp,in_port<span class="o">=</span><span class="m">5</span> <span class="nv">actions</span><span class="o">=</span>resubmit<span class="o">(</span>,24<span class="o">)</span>
 <span class="nv">cookie</span><span class="o">=</span>0x5efe7af1c4c4da43, <span class="nv">duration</span><span class="o">=</span><span class="m">1986</span>.771s, <span class="nv">table</span><span class="o">=</span><span class="m">0</span>, <span class="nv">n_packets</span><span class="o">=</span><span class="m">151</span>, <span class="nv">n_bytes</span><span class="o">=</span><span class="m">16475</span>, <span class="nv">idle_age</span><span class="o">=</span><span class="m">300</span>, <span class="nv">priority</span><span class="o">=</span><span class="m">9</span>,in_port<span class="o">=</span><span class="m">5</span> <span class="nv">actions</span><span class="o">=</span>resubmit<span class="o">(</span>,25<span class="o">)</span>
 <span class="nv">cookie</span><span class="o">=</span>0x5efe7af1c4c4da43, <span class="nv">duration</span><span class="o">=</span><span class="m">3828</span>.290s, <span class="nv">table</span><span class="o">=</span><span class="m">0</span>, <span class="nv">n_packets</span><span class="o">=</span><span class="m">575</span>, <span class="nv">n_bytes</span><span class="o">=</span><span class="m">63516</span>, <span class="nv">idle_age</span><span class="o">=</span><span class="m">296</span>, <span class="nv">priority</span><span class="o">=</span><span class="m">0</span> <span class="nv">actions</span><span class="o">=</span>resubmit<span class="o">(</span>,60<span class="o">)</span>
 <span class="nv">cookie</span><span class="o">=</span>0x4d21ac58ca610153, <span class="nv">duration</span><span class="o">=</span><span class="m">1952</span>.498s, <span class="nv">table</span><span class="o">=</span><span class="m">5</span>, <span class="nv">n_packets</span><span class="o">=</span><span class="m">20</span>, <span class="nv">n_bytes</span><span class="o">=</span><span class="m">1892</span>, <span class="nv">idle_age</span><span class="o">=</span><span class="m">300</span>, <span class="nv">priority</span><span class="o">=</span><span class="m">0</span>,ip,dl_dst<span class="o">=</span>fa:16:3e:2f:3e:90 <span class="nv">actions</span><span class="o">=</span>push_mpls:0x8847,load:0x1ff-&gt;OXM_OF_MPLS_LABEL<span class="o">[]</span>,set_mpls_ttl<span class="o">(</span><span class="m">255</span><span class="o">)</span>,mod_vlan_vid:2,resubmit<span class="o">(</span>,10<span class="o">)</span>
 <span class="nv">cookie</span><span class="o">=</span>0x4d21ac58ca610153, <span class="nv">duration</span><span class="o">=</span><span class="m">1951</span>.976s, <span class="nv">table</span><span class="o">=</span><span class="m">10</span>, <span class="nv">n_packets</span><span class="o">=</span><span class="m">20</span>, <span class="nv">n_bytes</span><span class="o">=</span><span class="m">1892</span>, <span class="nv">idle_age</span><span class="o">=</span><span class="m">300</span>, <span class="nv">priority</span><span class="o">=</span><span class="m">1</span>,mpls,dl_vlan<span class="o">=</span><span class="m">2</span>,dl_dst<span class="o">=</span>fa:16:3e:2f:3e:90,mpls_label<span class="o">=</span><span class="m">511</span> <span class="nv">actions</span><span class="o">=</span>strip_vlan,pop_mpls:0x0800,output:4
 <span class="nv">cookie</span><span class="o">=</span>0x4d21ac58ca610153, <span class="nv">duration</span><span class="o">=</span><span class="m">3824</span>.909s, <span class="nv">table</span><span class="o">=</span><span class="m">10</span>, <span class="nv">n_packets</span><span class="o">=</span><span class="m">0</span>, <span class="nv">n_bytes</span><span class="o">=</span><span class="m">0</span>, <span class="nv">idle_age</span><span class="o">=</span><span class="m">3824</span>, <span class="nv">priority</span><span class="o">=</span><span class="m">0</span> <span class="nv">actions</span><span class="o">=</span>drop
 <span class="nv">cookie</span><span class="o">=</span>0x5efe7af1c4c4da43, <span class="nv">duration</span><span class="o">=</span><span class="m">3828</span>.292s, <span class="nv">table</span><span class="o">=</span><span class="m">23</span>, <span class="nv">n_packets</span><span class="o">=</span><span class="m">0</span>, <span class="nv">n_bytes</span><span class="o">=</span><span class="m">0</span>, <span class="nv">idle_age</span><span class="o">=</span><span class="m">3828</span>, <span class="nv">priority</span><span class="o">=</span><span class="m">0</span> <span class="nv">actions</span><span class="o">=</span>drop
 <span class="nv">cookie</span><span class="o">=</span>0x5efe7af1c4c4da43, <span class="nv">duration</span><span class="o">=</span><span class="m">1986</span>.769s, <span class="nv">table</span><span class="o">=</span><span class="m">24</span>, <span class="nv">n_packets</span><span class="o">=</span><span class="m">0</span>, <span class="nv">n_bytes</span><span class="o">=</span><span class="m">0</span>, <span class="nv">idle_age</span><span class="o">=</span><span class="m">1986</span>, <span class="nv">priority</span><span class="o">=</span><span class="m">2</span>,icmp6,in_port<span class="o">=</span><span class="m">5</span>,icmp_type<span class="o">=</span><span class="m">136</span>,nd_target<span class="o">=</span>fe80::f816:3eff:fe6d:6514 <span class="nv">actions</span><span class="o">=</span>resubmit<span class="o">(</span>,60<span class="o">)</span>
 <span class="nv">cookie</span><span class="o">=</span>0x5efe7af1c4c4da43, <span class="nv">duration</span><span class="o">=</span><span class="m">1986</span>.766s, <span class="nv">table</span><span class="o">=</span><span class="m">24</span>, <span class="nv">n_packets</span><span class="o">=</span><span class="m">9</span>, <span class="nv">n_bytes</span><span class="o">=</span><span class="m">378</span>, <span class="nv">idle_age</span><span class="o">=</span><span class="m">296</span>, <span class="nv">priority</span><span class="o">=</span><span class="m">2</span>,arp,in_port<span class="o">=</span><span class="m">5</span>,arp_spa<span class="o">=</span><span class="m">10</span>.0.0.7 <span class="nv">actions</span><span class="o">=</span>resubmit<span class="o">(</span>,25<span class="o">)</span>
 <span class="nv">cookie</span><span class="o">=</span>0x5efe7af1c4c4da43, <span class="nv">duration</span><span class="o">=</span><span class="m">3828</span>.286s, <span class="nv">table</span><span class="o">=</span><span class="m">24</span>, <span class="nv">n_packets</span><span class="o">=</span><span class="m">0</span>, <span class="nv">n_bytes</span><span class="o">=</span><span class="m">0</span>, <span class="nv">idle_age</span><span class="o">=</span><span class="m">3828</span>, <span class="nv">priority</span><span class="o">=</span><span class="m">0</span> <span class="nv">actions</span><span class="o">=</span>drop
 <span class="nv">cookie</span><span class="o">=</span>0x5efe7af1c4c4da43, <span class="nv">duration</span><span class="o">=</span><span class="m">1986</span>.774s, <span class="nv">table</span><span class="o">=</span><span class="m">25</span>, <span class="nv">n_packets</span><span class="o">=</span><span class="m">159</span>, <span class="nv">n_bytes</span><span class="o">=</span><span class="m">16783</span>, <span class="nv">idle_age</span><span class="o">=</span><span class="m">296</span>, <span class="nv">priority</span><span class="o">=</span><span class="m">2</span>,in_port<span class="o">=</span><span class="m">5</span>,dl_src<span class="o">=</span>fa:16:3e:6d:65:14 <span class="nv">actions</span><span class="o">=</span>resubmit<span class="o">(</span>,60<span class="o">)</span>
 <span class="nv">cookie</span><span class="o">=</span>0x5efe7af1c4c4da43, <span class="nv">duration</span><span class="o">=</span><span class="m">3828</span>.287s, <span class="nv">table</span><span class="o">=</span><span class="m">60</span>, <span class="nv">n_packets</span><span class="o">=</span><span class="m">836</span>, <span class="nv">n_bytes</span><span class="o">=</span><span class="m">90430</span>, <span class="nv">idle_age</span><span class="o">=</span><span class="m">296</span>, <span class="nv">priority</span><span class="o">=</span><span class="m">3</span> <span class="nv">actions</span><span class="o">=</span>NORMAL
</pre></div>


<p>Check br-tun ovs flows.</p>
<div class="highlight"><pre><span></span>$ docker <span class="nb">exec</span> openvswitch_db ovs-ofctl dump-flows br-tun

NXST_FLOW reply <span class="o">(</span><span class="nv">xid</span><span class="o">=</span>0x4<span class="o">)</span>:
 <span class="nv">cookie</span><span class="o">=</span>0xf206a4cf831522bb, <span class="nv">duration</span><span class="o">=</span><span class="m">3829</span>.004s, <span class="nv">table</span><span class="o">=</span><span class="m">0</span>, <span class="nv">n_packets</span><span class="o">=</span><span class="m">514</span>, <span class="nv">n_bytes</span><span class="o">=</span><span class="m">51389</span>, <span class="nv">idle_age</span><span class="o">=</span><span class="m">299</span>, <span class="nv">priority</span><span class="o">=</span><span class="m">1</span>,in_port<span class="o">=</span><span class="m">1</span> <span class="nv">actions</span><span class="o">=</span>resubmit<span class="o">(</span>,2<span class="o">)</span>
 <span class="nv">cookie</span><span class="o">=</span>0xf206a4cf831522bb, <span class="nv">duration</span><span class="o">=</span><span class="m">2049</span>.122s, <span class="nv">table</span><span class="o">=</span><span class="m">0</span>, <span class="nv">n_packets</span><span class="o">=</span><span class="m">111</span>, <span class="nv">n_bytes</span><span class="o">=</span><span class="m">13035</span>, <span class="nv">idle_age</span><span class="o">=</span><span class="m">299</span>, <span class="nv">priority</span><span class="o">=</span><span class="m">1</span>,in_port<span class="o">=</span><span class="m">4</span> <span class="nv">actions</span><span class="o">=</span>resubmit<span class="o">(</span>,4<span class="o">)</span>
 <span class="nv">cookie</span><span class="o">=</span>0xf206a4cf831522bb, <span class="nv">duration</span><span class="o">=</span><span class="m">2049</span>.077s, <span class="nv">table</span><span class="o">=</span><span class="m">0</span>, <span class="nv">n_packets</span><span class="o">=</span><span class="m">99</span>, <span class="nv">n_bytes</span><span class="o">=</span><span class="m">12561</span>, <span class="nv">idle_age</span><span class="o">=</span><span class="m">1976</span>, <span class="nv">priority</span><span class="o">=</span><span class="m">1</span>,in_port<span class="o">=</span><span class="m">5</span> <span class="nv">actions</span><span class="o">=</span>resubmit<span class="o">(</span>,4<span class="o">)</span>
 <span class="nv">cookie</span><span class="o">=</span>0xf206a4cf831522bb, <span class="nv">duration</span><span class="o">=</span><span class="m">3829</span>.003s, <span class="nv">table</span><span class="o">=</span><span class="m">0</span>, <span class="nv">n_packets</span><span class="o">=</span><span class="m">0</span>, <span class="nv">n_bytes</span><span class="o">=</span><span class="m">0</span>, <span class="nv">idle_age</span><span class="o">=</span><span class="m">3829</span>, <span class="nv">priority</span><span class="o">=</span><span class="m">0</span> <span class="nv">actions</span><span class="o">=</span>drop
 <span class="nv">cookie</span><span class="o">=</span>0xf206a4cf831522bb, <span class="nv">duration</span><span class="o">=</span><span class="m">3829</span>.001s, <span class="nv">table</span><span class="o">=</span><span class="m">2</span>, <span class="nv">n_packets</span><span class="o">=</span><span class="m">14</span>, <span class="nv">n_bytes</span><span class="o">=</span><span class="m">588</span>, <span class="nv">idle_age</span><span class="o">=</span><span class="m">303</span>, <span class="nv">priority</span><span class="o">=</span><span class="m">1</span>,arp,dl_dst<span class="o">=</span>ff:ff:ff:ff:ff:ff <span class="nv">actions</span><span class="o">=</span>resubmit<span class="o">(</span>,21<span class="o">)</span>
 <span class="nv">cookie</span><span class="o">=</span>0xf206a4cf831522bb, <span class="nv">duration</span><span class="o">=</span><span class="m">3828</span>.999s, <span class="nv">table</span><span class="o">=</span><span class="m">2</span>, <span class="nv">n_packets</span><span class="o">=</span><span class="m">444</span>, <span class="nv">n_bytes</span><span class="o">=</span><span class="m">44273</span>, <span class="nv">idle_age</span><span class="o">=</span><span class="m">299</span>, <span class="nv">priority</span><span class="o">=</span><span class="m">0</span>,dl_dst<span class="o">=</span><span class="m">00</span>:00:00:00:00:00/01:00:00:00:00:00 <span class="nv">actions</span><span class="o">=</span>resubmit<span class="o">(</span>,20<span class="o">)</span>
 <span class="nv">cookie</span><span class="o">=</span>0xf206a4cf831522bb, <span class="nv">duration</span><span class="o">=</span><span class="m">3828</span>.998s, <span class="nv">table</span><span class="o">=</span><span class="m">2</span>, <span class="nv">n_packets</span><span class="o">=</span><span class="m">56</span>, <span class="nv">n_bytes</span><span class="o">=</span><span class="m">6528</span>, <span class="nv">idle_age</span><span class="o">=</span><span class="m">1971</span>, <span class="nv">priority</span><span class="o">=</span><span class="m">0</span>,dl_dst<span class="o">=</span><span class="m">01</span>:00:00:00:00:00/01:00:00:00:00:00 <span class="nv">actions</span><span class="o">=</span>resubmit<span class="o">(</span>,22<span class="o">)</span>
 <span class="nv">cookie</span><span class="o">=</span>0xf206a4cf831522bb, <span class="nv">duration</span><span class="o">=</span><span class="m">3828</span>.997s, <span class="nv">table</span><span class="o">=</span><span class="m">3</span>, <span class="nv">n_packets</span><span class="o">=</span><span class="m">0</span>, <span class="nv">n_bytes</span><span class="o">=</span><span class="m">0</span>, <span class="nv">idle_age</span><span class="o">=</span><span class="m">3828</span>, <span class="nv">priority</span><span class="o">=</span><span class="m">0</span> <span class="nv">actions</span><span class="o">=</span>drop
 <span class="nv">cookie</span><span class="o">=</span>0xf206a4cf831522bb, <span class="nv">duration</span><span class="o">=</span><span class="m">2051</span>.673s, <span class="nv">table</span><span class="o">=</span><span class="m">4</span>, <span class="nv">n_packets</span><span class="o">=</span><span class="m">210</span>, <span class="nv">n_bytes</span><span class="o">=</span><span class="m">25596</span>, <span class="nv">idle_age</span><span class="o">=</span><span class="m">299</span>, <span class="nv">priority</span><span class="o">=</span><span class="m">1</span>,tun_id<span class="o">=</span>0x35 <span class="nv">actions</span><span class="o">=</span>mod_vlan_vid:2,resubmit<span class="o">(</span>,10<span class="o">)</span>
 <span class="nv">cookie</span><span class="o">=</span>0xf206a4cf831522bb, <span class="nv">duration</span><span class="o">=</span><span class="m">3828</span>.996s, <span class="nv">table</span><span class="o">=</span><span class="m">4</span>, <span class="nv">n_packets</span><span class="o">=</span><span class="m">0</span>, <span class="nv">n_bytes</span><span class="o">=</span><span class="m">0</span>, <span class="nv">idle_age</span><span class="o">=</span><span class="m">3828</span>, <span class="nv">priority</span><span class="o">=</span><span class="m">0</span> <span class="nv">actions</span><span class="o">=</span>drop
 <span class="nv">cookie</span><span class="o">=</span>0xf206a4cf831522bb, <span class="nv">duration</span><span class="o">=</span><span class="m">3828</span>.995s, <span class="nv">table</span><span class="o">=</span><span class="m">6</span>, <span class="nv">n_packets</span><span class="o">=</span><span class="m">0</span>, <span class="nv">n_bytes</span><span class="o">=</span><span class="m">0</span>, <span class="nv">idle_age</span><span class="o">=</span><span class="m">3828</span>, <span class="nv">priority</span><span class="o">=</span><span class="m">0</span> <span class="nv">actions</span><span class="o">=</span>drop
 <span class="nv">cookie</span><span class="o">=</span>0xf206a4cf831522bb, <span class="nv">duration</span><span class="o">=</span><span class="m">3828</span>.994s, <span class="nv">table</span><span class="o">=</span><span class="m">10</span>, <span class="nv">n_packets</span><span class="o">=</span><span class="m">322</span>, <span class="nv">n_bytes</span><span class="o">=</span><span class="m">39749</span>, <span class="nv">idle_age</span><span class="o">=</span><span class="m">299</span>, <span class="nv">priority</span><span class="o">=</span><span class="m">1</span> <span class="nv">actions</span><span class="o">=</span>learn<span class="o">(</span><span class="nv">table</span><span class="o">=</span><span class="m">20</span>,hard_timeout<span class="o">=</span><span class="m">300</span>,priority<span class="o">=</span><span class="m">1</span>,cookie<span class="o">=</span>0xf206a4cf831522bb,NXM_OF_VLAN_TCI<span class="o">[</span><span class="m">0</span>..11<span class="o">]</span>,NXM_OF_ETH_DST<span class="o">[]=</span>NXM_OF_ETH_SRC<span class="o">[]</span>,load:0-&gt;NXM_OF_VLAN_TCI<span class="o">[]</span>,load:NXM_NX_TUN_ID<span class="o">[]</span>-&gt;NXM_NX_TUN_ID<span class="o">[]</span>,output:OXM_OF_IN_PORT<span class="o">[])</span>,output:1
 <span class="nv">cookie</span><span class="o">=</span>0xf206a4cf831522bb, <span class="nv">duration</span><span class="o">=</span><span class="m">2045</span>.177s, <span class="nv">table</span><span class="o">=</span><span class="m">20</span>, <span class="nv">n_packets</span><span class="o">=</span><span class="m">60</span>, <span class="nv">n_bytes</span><span class="o">=</span><span class="m">7135</span>, <span class="nv">idle_age</span><span class="o">=</span><span class="m">299</span>, <span class="nv">priority</span><span class="o">=</span><span class="m">2</span>,dl_vlan<span class="o">=</span><span class="m">2</span>,dl_dst<span class="o">=</span>fa:16:3e:dd:b9:4d <span class="nv">actions</span><span class="o">=</span>strip_vlan,load:0x35-&gt;NXM_NX_TUN_ID<span class="o">[]</span>,output:4
 <span class="nv">cookie</span><span class="o">=</span>0xf206a4cf831522bb, <span class="nv">duration</span><span class="o">=</span><span class="m">2045</span>.168s, <span class="nv">table</span><span class="o">=</span><span class="m">20</span>, <span class="nv">n_packets</span><span class="o">=</span><span class="m">180</span>, <span class="nv">n_bytes</span><span class="o">=</span><span class="m">17440</span>, <span class="nv">idle_age</span><span class="o">=</span><span class="m">1976</span>, <span class="nv">priority</span><span class="o">=</span><span class="m">2</span>,dl_vlan<span class="o">=</span><span class="m">2</span>,dl_dst<span class="o">=</span>fa:16:3e:71:84:df <span class="nv">actions</span><span class="o">=</span>strip_vlan,load:0x35-&gt;NXM_NX_TUN_ID<span class="o">[]</span>,output:5
 <span class="nv">cookie</span><span class="o">=</span>0xf206a4cf831522bb, <span class="nv">duration</span><span class="o">=</span><span class="m">2019</span>.366s, <span class="nv">table</span><span class="o">=</span><span class="m">20</span>, <span class="nv">n_packets</span><span class="o">=</span><span class="m">20</span>, <span class="nv">n_bytes</span><span class="o">=</span><span class="m">1892</span>, <span class="nv">idle_age</span><span class="o">=</span><span class="m">303</span>, <span class="nv">priority</span><span class="o">=</span><span class="m">2</span>,dl_vlan<span class="o">=</span><span class="m">2</span>,dl_dst<span class="o">=</span>fa:16:3e:d7:6f:3b <span class="nv">actions</span><span class="o">=</span>strip_vlan,load:0x35-&gt;NXM_NX_TUN_ID<span class="o">[]</span>,output:4
 <span class="nv">cookie</span><span class="o">=</span>0xf206a4cf831522bb, <span class="nv">duration</span><span class="o">=</span><span class="m">304</span>.629s, <span class="nv">table</span><span class="o">=</span><span class="m">20</span>, <span class="nv">n_packets</span><span class="o">=</span><span class="m">0</span>, <span class="nv">n_bytes</span><span class="o">=</span><span class="m">0</span>, <span class="nv">hard_timeout</span><span class="o">=</span><span class="m">300</span>, <span class="nv">idle_age</span><span class="o">=</span><span class="m">304</span>, <span class="nv">hard_age</span><span class="o">=</span><span class="m">299</span>, <span class="nv">priority</span><span class="o">=</span><span class="m">1</span>,vlan_tci<span class="o">=</span>0x0002/0x0fff,dl_dst<span class="o">=</span>fa:16:3e:dd:b9:4d <span class="nv">actions</span><span class="o">=</span>load:0-&gt;NXM_OF_VLAN_TCI<span class="o">[]</span>,load:0x35-&gt;NXM_NX_TUN_ID<span class="o">[]</span>,output:4
 <span class="nv">cookie</span><span class="o">=</span>0xf206a4cf831522bb, <span class="nv">duration</span><span class="o">=</span><span class="m">3828</span>.992s, <span class="nv">table</span><span class="o">=</span><span class="m">20</span>, <span class="nv">n_packets</span><span class="o">=</span><span class="m">0</span>, <span class="nv">n_bytes</span><span class="o">=</span><span class="m">0</span>, <span class="nv">idle_age</span><span class="o">=</span><span class="m">3828</span>, <span class="nv">priority</span><span class="o">=</span><span class="m">0</span> <span class="nv">actions</span><span class="o">=</span>resubmit<span class="o">(</span>,22<span class="o">)</span>
 <span class="nv">cookie</span><span class="o">=</span>0xf206a4cf831522bb, <span class="nv">duration</span><span class="o">=</span><span class="m">2045</span>.180s, <span class="nv">table</span><span class="o">=</span><span class="m">21</span>, <span class="nv">n_packets</span><span class="o">=</span><span class="m">2</span>, <span class="nv">n_bytes</span><span class="o">=</span><span class="m">84</span>, <span class="nv">idle_age</span><span class="o">=</span><span class="m">1974</span>, <span class="nv">priority</span><span class="o">=</span><span class="m">1</span>,arp,dl_vlan<span class="o">=</span><span class="m">2</span>,arp_tpa<span class="o">=</span><span class="m">10</span>.0.0.1 <span class="nv">actions</span><span class="o">=</span>load:0x2-&gt;NXM_OF_ARP_OP<span class="o">[]</span>,move:NXM_NX_ARP_SHA<span class="o">[]</span>-&gt;NXM_NX_ARP_THA<span class="o">[]</span>,move:NXM_OF_ARP_SPA<span class="o">[]</span>-&gt;NXM_OF_ARP_TPA<span class="o">[]</span>,load:0xfa163eddb94d-&gt;NXM_NX_ARP_SHA<span class="o">[]</span>,load:0xa000001-&gt;NXM_OF_ARP_SPA<span class="o">[]</span>,move:NXM_OF_ETH_SRC<span class="o">[]</span>-&gt;NXM_OF_ETH_DST<span class="o">[]</span>,mod_dl_src:fa:16:3e:dd:b9:4d,IN_PORT
 <span class="nv">cookie</span><span class="o">=</span>0xf206a4cf831522bb, <span class="nv">duration</span><span class="o">=</span><span class="m">2045</span>.170s, <span class="nv">table</span><span class="o">=</span><span class="m">21</span>, <span class="nv">n_packets</span><span class="o">=</span><span class="m">2</span>, <span class="nv">n_bytes</span><span class="o">=</span><span class="m">84</span>, <span class="nv">idle_age</span><span class="o">=</span><span class="m">1979</span>, <span class="nv">priority</span><span class="o">=</span><span class="m">1</span>,arp,dl_vlan<span class="o">=</span><span class="m">2</span>,arp_tpa<span class="o">=</span><span class="m">10</span>.0.0.2 <span class="nv">actions</span><span class="o">=</span>load:0x2-&gt;NXM_OF_ARP_OP<span class="o">[]</span>,move:NXM_NX_ARP_SHA<span class="o">[]</span>-&gt;NXM_NX_ARP_THA<span class="o">[]</span>,move:NXM_OF_ARP_SPA<span class="o">[]</span>-&gt;NXM_OF_ARP_TPA<span class="o">[]</span>,load:0xfa163e7184df-&gt;NXM_NX_ARP_SHA<span class="o">[]</span>,load:0xa000002-&gt;NXM_OF_ARP_SPA<span class="o">[]</span>,move:NXM_OF_ETH_SRC<span class="o">[]</span>-&gt;NXM_OF_ETH_DST<span class="o">[]</span>,mod_dl_src:fa:16:3e:71:84:df,IN_PORT
 <span class="nv">cookie</span><span class="o">=</span>0xf206a4cf831522bb, <span class="nv">duration</span><span class="o">=</span><span class="m">2019</span>.369s, <span class="nv">table</span><span class="o">=</span><span class="m">21</span>, <span class="nv">n_packets</span><span class="o">=</span><span class="m">4</span>, <span class="nv">n_bytes</span><span class="o">=</span><span class="m">168</span>, <span class="nv">idle_age</span><span class="o">=</span><span class="m">303</span>, <span class="nv">priority</span><span class="o">=</span><span class="m">1</span>,arp,dl_vlan<span class="o">=</span><span class="m">2</span>,arp_tpa<span class="o">=</span><span class="m">10</span>.0.0.3 <span class="nv">actions</span><span class="o">=</span>load:0x2-&gt;NXM_OF_ARP_OP<span class="o">[]</span>,move:NXM_NX_ARP_SHA<span class="o">[]</span>-&gt;NXM_NX_ARP_THA<span class="o">[]</span>,move:NXM_OF_ARP_SPA<span class="o">[]</span>-&gt;NXM_OF_ARP_TPA<span class="o">[]</span>,load:0xfa163ed76f3b-&gt;NXM_NX_ARP_SHA<span class="o">[]</span>,load:0xa000003-&gt;NXM_OF_ARP_SPA<span class="o">[]</span>,move:NXM_OF_ETH_SRC<span class="o">[]</span>-&gt;NXM_OF_ETH_DST<span class="o">[]</span>,mod_dl_src:fa:16:3e:d7:6f:3b,IN_PORT
 <span class="nv">cookie</span><span class="o">=</span>0xf206a4cf831522bb, <span class="nv">duration</span><span class="o">=</span><span class="m">3828</span>.991s, <span class="nv">table</span><span class="o">=</span><span class="m">21</span>, <span class="nv">n_packets</span><span class="o">=</span><span class="m">2</span>, <span class="nv">n_bytes</span><span class="o">=</span><span class="m">84</span>, <span class="nv">idle_age</span><span class="o">=</span><span class="m">303</span>, <span class="nv">priority</span><span class="o">=</span><span class="m">0</span> <span class="nv">actions</span><span class="o">=</span>resubmit<span class="o">(</span>,22<span class="o">)</span>
 <span class="nv">cookie</span><span class="o">=</span>0xf206a4cf831522bb, <span class="nv">duration</span><span class="o">=</span><span class="m">2045</span>.174s, <span class="nv">table</span><span class="o">=</span><span class="m">22</span>, <span class="nv">n_packets</span><span class="o">=</span><span class="m">20</span>, <span class="nv">n_bytes</span><span class="o">=</span><span class="m">2512</span>, <span class="nv">idle_age</span><span class="o">=</span><span class="m">303</span>, <span class="nv">priority</span><span class="o">=</span><span class="m">1</span>,dl_vlan<span class="o">=</span><span class="m">2</span> <span class="nv">actions</span><span class="o">=</span>strip_vlan,load:0x35-&gt;NXM_NX_TUN_ID<span class="o">[]</span>,output:4,output:5
 <span class="nv">cookie</span><span class="o">=</span>0xf206a4cf831522bb, <span class="nv">duration</span><span class="o">=</span><span class="m">3828</span>.990s, <span class="nv">table</span><span class="o">=</span><span class="m">22</span>, <span class="nv">n_packets</span><span class="o">=</span><span class="m">20</span>, <span class="nv">n_bytes</span><span class="o">=</span><span class="m">1672</span>, <span class="nv">idle_age</span><span class="o">=</span><span class="m">1994</span>, <span class="nv">priority</span><span class="o">=</span><span class="m">0</span> <span class="nv">actions</span><span class="o">=</span>drop
</pre></div>


<p>Once Tacker and SFC is verified, all resources can be deleted.</p>
<div class="highlight"><pre><span></span>$ sh cleanup-tacker

Deleting VNFFG
All specified vnffg<span class="o">(</span>s<span class="o">)</span> deleted successfully
Deleting VNFFGD
All specified vnffgd<span class="o">(</span>s<span class="o">)</span> deleted successfully
Deleting sample sfc instances
Deleting sample VNF
All specified vnf<span class="o">(</span>s<span class="o">)</span> delete initiated successfully
Deleting sample VNFD
All specified vnfd<span class="o">(</span>s<span class="o">)</span> deleted successfully
Deleting sample VIM
All specified vim<span class="o">(</span>s<span class="o">)</span> deleted successfully
Removing sample config
</pre></div>


<p>In following posts will show how to tacker templates works and an in
deep<br>
sfc traffic flows analysis.</p>
<p>Regards, Eduardo Gonzalez</p><p><a href="/openstack-tacker-and-service-function-chaining-sfc-with-kolla.html#disqus_thread">comments</a></p>                </article>
<p class="paginator">
    Page 1 / 1
</p>
            </aside><!-- /#featured -->
            </ol><!-- /#posts-list -->
            </section><!-- /#content -->
        <section id="extras" class="body">
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="https://twitter.com/egongu90">Twitter</a></li>
                            <li><a href="https://www.linkedin.com/in/eduardogonzalezgutierrez">Linkedin</a></li>
                            <li><a href="https://github.com/egonzalez90">Github</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <p>Powered by <a href="http://getpelican.com/">Pelican</a>. Theme <a href="https://github.com/blueicefield/pelican-blueidea/">blueidea</a>, inspired by the default theme.</p>
        </footer><!-- /#contentinfo -->

<script type="text/javascript">
    var disqus_shortname = 'egonzalez-1';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
</body>
</html>