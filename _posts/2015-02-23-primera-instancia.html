---
layout: post
title: Primera instancia
date: 2015-02-23 13:24:48.000000000 +01:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories:
- OpenStack
tags:
- crear
- habilitar
- icehouse
- icmp
- instancias
- openstack
- ping
- primera
- security group
- ssh
- ssh-keygen
- vnc
meta:
  _edit_last: '2'
  _wpas_mess: Primera instancia
  _wpas_skip_10228321: '1'
  _wpas_skip_5226565: '1'
  _wpas_done_all: '1'
  _publicize_facebook_user: https://www.facebook.com/dudu.gonzalez90
  _publicize_twitter_user: "@egongu90"
  _jetpack_related_posts_cache: a:1:{s:32:"8f6677c9d6b0f903e98ad32ec61f8deb";a:2:{s:7:"expires";i:1567580562;s:7:"payload";a:3:{i:0;a:1:{s:2:"id";i:769;}i:1;a:1:{s:2:"id";i:718;}i:2;a:1:{s:2:"id";i:635;}}}}
  dsq_thread_id: '6110714285'
author:
  login: egongu90
  email: egongu90@hotmail.com
  display_name: Editor
  first_name: ''
  last_name: ''
permalink: "/primera-instancia/"
---
<p>Primero creamos la clave.</p>
<blockquote><p># ssh-keygen</p></blockquote>
<p>Añadimos la clave creada a openstack.</p>
<blockquote><p># nova keypair-add --pub-key ~/.ssh/id_rsa.pub [nombre]</p></blockquote>
<p>Comprobamos que está asociada en nuestro entorno.</p>
<blockquote><p># nova keypair-list</p></blockquote>
<p>Para crear instancias necesitaremos los siguientes valores:</p>
<ul>
<li>Flavors (# nova flavor-list)</li>
<li>Imagenes (# nova image-list)</li>
<li>Networks (# nova net-list)</li>
<li>securityGroups (# nova secgroup-list)</li>
</ul>
<p>Una vez tenemos esos valores necesarios procederemos a crear una instancia.</p>
<blockquote><p># nova boot --flavor [flavor] --image [image_ID] --nic net-id=[net_ID] --security-group [SecGroup] --key-name [keyname] [NombreInstancia]</p></blockquote>
<p>Ejemplo:</p>
<blockquote><p>nova boot --flavor m1.tiny --image cirros-0.3.2-x86_64 --nic net-id=[NET_ID] --security-group default --key-name demo-key Instancia1</p></blockquote>
<p>Comprobremos el estado de la instancia.</p>
<blockquote><p># nova list</p></blockquote>
<p>Crearemos una sesion por VNC.</p>
<blockquote><p># nova get-vnc-console [Instancia] novnc</p></blockquote>
<p>Habilitamos Ping y SSH al Security Group "Default".</p>
<blockquote><p># nova secgroup-add-rule default icmp -1 -1 0.0.0.0/0</p>
<p># nova secgroup-add-rule default tcp 22 22 0.0.0.0/0</p></blockquote>
<p>Comprobamos las conexiones por ping y por SSH.</p>
<blockquote><p># ssh cirros@IP</p>
<p>*Password por defecto cubswin:)</p></blockquote>
