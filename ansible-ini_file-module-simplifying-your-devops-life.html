<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>OpenStack Stuff | Ansible ini_file module, simplifying your DevOps life</title>
    <link rel="shortcut icon" type="image/png" href="https://egonzalez90.github.io/favicon.png">
    <link rel="shortcut icon" type="image/x-icon" href="https://egonzalez90.github.io/favicon.ico">
    <link href="https://egonzalez90.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="OpenStack Stuff Full Atom Feed" />
    <link href="https://egonzalez90.github.io/feeds/linux-various.atom.xml" type="application/atom+xml" rel="alternate" title="OpenStack Stuff Categories Atom Feed" />
    <link rel="stylesheet" href="https://egonzalez90.github.io/theme/css/screen.css" type="text/css" />
    <link rel="stylesheet" href="https://egonzalez90.github.io/theme/css/pygments.css" type="text/css" />
    <link rel="stylesheet" href="https://egonzalez90.github.io/theme/css/print.css" type="text/css" media="print" />
    <meta name="generator" content="Pelican" />
    <meta name="description" content="" />
    <meta name="author" content="Eduardo Gonzalez" />

    <meta name="keywords" content="--configure,ansible,config,file,idiot,ini,ini_file,openstack,style" />
</head>
<body>
    <header>
        <nav>
            <ul>
                <li><a href="https://egonzalez90.github.io/">Home</a></li>
                <li><a href="https://docs.openstack.org">OpenStack</a></li>
                <li><a href="https://www.linkedin.com/in/eduardogonzalezgutierrez">Linkedin</a></li>
                <li><a href="https://github.com/egonzalez90">Github</a></li>
                <li><a href="https://egonzalez90.github.io/archives">Archives</a></li>
            </ul>
        </nav>
        <div class="header_box">
            <h1><a href="https://egonzalez90.github.io/">OpenStack Stuff</a></h1>
        </div>
    </header>
    <div id="wrapper">
        <div id="content">            <h4 class="date">Feb 24, 2016</h4>

            <article class="post">
                <h2 class="title">
                    <a href="https://egonzalez90.github.io/ansible-ini_file-module-simplifying-your-devops-life.html" rel="bookmark" title="Permanent Link to &quot;Ansible ini_file module, simplifying your DevOps life&quot;">Ansible ini_file module, simplifying your DevOps life</a>
                </h2>

                
                

                <p>If you don't read docs, one day you'll realize that your an idiot as i
am|was.</p>
<p>A few days back, I've realized that i was using wrong all Ansible
modules power since i started with it. What happened?</p>
<p>Most of the time i use Ansible is related to OpenStack configuration
jobs. Almost, all OpenStack projects use INI formatted files for their
configuration files.<br>
When i started using Ansible, I searched on Google how to configure any
kind of file with Ansible modules. Almost all blogs/forums that i saw,
talked about lineinfile module. So i used these guidelines on my next
few months, now i realize that i was using in the wrong way Ansible
modules.</p>
<p>Ansible have a module called ini_file, you change values inside INI
formatted files in a easy way , you don't need to use complicated
regular expressions to change a value in a file.</p>
<p>Here you have ini_file module usage docs:
<a href="http://docs.ansible.com/ansible/ini_file_module.html">http://docs.ansible.com/ansible/ini_file_module.html</a></p>
<p>We are going to change Neutron user password in his dump config file, so
we create a simple task on which we can see how ini_file module can be
used.</p>
<div class="highlight"><pre><span></span>- hosts: localhost
  tasks:
  - name: Change neutron user password
    ini_file:
      dest: ~/neutron.conf
      section: keystone_authtoken
      option: password
      value: 12345
</pre></div>


<p>Once the task has been applied, we can see how the values are applied in
a proper ini style.</p>
<div class="highlight"><pre><span></span>cat neutron.conf
[keystone_authtoken]
password = 12345
</pre></div>


<p>How many times you need to make a change in an INI formatted
configuration file with Ansible and used lineinfile module?<br>
If the answer is many times, it's OK, you are a dump like me.</p>
<p>Regards, Eduardo Gonzalez</p>
                <div class="clear"></div>

                <div class="info">
                    <a href="https://egonzalez90.github.io/ansible-ini_file-module-simplifying-your-devops-life.html">posted at 20:00</a>
                    &nbsp;&middot;&nbsp;<a href="https://egonzalez90.github.io/category/linux-various.html" rel="tag">Linux, Various</a>
                    &nbsp;&middot;
                    &nbsp;<a href="https://egonzalez90.github.io/tag/-configure.html" class="tags">--configure</a>
                    &nbsp;<a href="https://egonzalez90.github.io/tag/ansible.html" class="tags">ansible</a>
                    &nbsp;<a href="https://egonzalez90.github.io/tag/config.html" class="tags">config</a>
                    &nbsp;<a href="https://egonzalez90.github.io/tag/file.html" class="tags">file</a>
                    &nbsp;<a href="https://egonzalez90.github.io/tag/idiot.html" class="tags">idiot</a>
                    &nbsp;<a href="https://egonzalez90.github.io/tag/ini.html" class="tags">ini</a>
                    &nbsp;<a href="https://egonzalez90.github.io/tag/ini_file.html" class="tags">ini_file</a>
                    &nbsp;<a href="https://egonzalez90.github.io/tag/openstack.html" class="tags">openstack</a>
                    &nbsp;<a href="https://egonzalez90.github.io/tag/style.html" class="tags">style</a>
                </div>
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'egonzalez-1';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
            </article>
            <div class="clear"></div>
            <footer>
                <p>
                <a href="https://github.com/jody-frankowski/blue-penguin">Blue Penguin</a> Theme
                &middot;
                Powered by <a href="http://getpelican.com">Pelican</a>
                &middot;
                <a href="https://egonzalez90.github.io/feeds/all.atom.xml" rel="alternate">Atom Feed</a>
            </footer>
        </div>
        <div class="clear"></div>
    </div>
</body>
</html>